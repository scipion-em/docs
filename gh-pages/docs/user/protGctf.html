

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ProtGctf &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
        <script type="text/javascript" src="../../static/jquery.js"></script>
        <script type="text/javascript" src="../../static/underscore.js"></script>
        <script type="text/javascript" src="../../static/doctools.js"></script>
        <script type="text/javascript" src="../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/install-from-sources.html">Installing Scipion v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">Streaming Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/acquisition-simulation.html">Tutorial for Facilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>ProtGctf</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../sources/docs/user/protGctf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../images/scipion_logo.gif"><img alt="scipion logo" src="../../images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="protgctf">
<span id="id1"></span><h1>ProtGctf<a class="headerlink" href="#protgctf" title="Permalink to this headline">¶</a></h1>
<div class="section" id="gctf-ctf-estimation-on-gpu">
<h2>gctf - CTF estimation on GPU<a class="headerlink" href="#gctf-ctf-estimation-on-gpu" title="Permalink to this headline">¶</a></h2>
<p>This protocol is based on <a class="reference external" href="http://www.mrc-lmb.cam.ac.uk/kzhang/Gctf">gctf [1]</a> , a GPU accelerated program for Real-Time CTF determination, refinement, evaluation and correction. At this moment movie options, CTF refinement for particles and tilt refinement options are not supported yet.</p>
</div>
<div class="section" id="input-parameters">
<h2>Input parameters<a class="headerlink" href="#input-parameters" title="Permalink to this headline">¶</a></h2>
<p>To estimate the CTF you will need to select first the <strong>Input micrographs</strong>,
that can be any <cite>SetOfMicrographs</cite> produced earlier (Fig. 1). Then you can
choose the frequency region to be analyzed. The limiting frequencies must be
such that all zeros of the PSD are contained within those frequencies. There is
a wizard, shown in Fig. 2, that helps in choosing those frequencies. To see
the all available options, choose the _Advanced_ expert level, switch to
<code class="docutils literal notranslate"><span class="pre">Advanced</span></code> tab and click on the <em>Help</em> button for any specific parameter
(Fig. 3).</p>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="../../images/01.ProtGctf.png"><img alt="GUI input form of the gctf protocol" src="../../images/01.ProtGctf.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 1. GUI input form of the gctf protocol</span></p>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../../images/02.CTFWizard.png"><img alt="GUI input form of the gctf protocol" src="../../images/02.CTFWizard.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 2. CTF wizard helps to select a downsampling factor and the range of spatial frequencies</span></p>
</div>
<div class="figure align-center" id="id4">
<a class="reference internal image-reference" href="../../images/03.ProtGctfAdvanced.png"><img alt="GUI input form of the gctf protocol" src="../../images/03.ProtGctfAdvanced.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 3. Advanced protocol parameters</span></p>
</div>
</div>
<div class="section" id="analyzing-ctf-results">
<h2>Analyzing CTF results<a class="headerlink" href="#analyzing-ctf-results" title="Permalink to this headline">¶</a></h2>
<p>The CTFs of good micrographs typically have multiple concentric rings, shown in
Fig. 4 left, extending from the image center towards its edges. Bad micrographs
may lack rings or have very few rings that hardly extend from the image center.
A reason to discard micrographs may be the presence of strongly asymmetric rings
(astigmatism, Fig. 4 center) or rings that fade in a particular direction
(drift, Fig. 4 right).</p>
<div class="figure align-center" id="id5">
<a class="reference internal image-reference" href="../../images/04.CTFexamples.jpg"><img alt="GUI input form of the gctf protocol" src="../../images/04.CTFexamples.jpg" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 4. CTFs of good, astigmatic and drift micrographs respectively.</span></p>
</div>
<p>When the protocol is finished you may click on the <em>Analyze Results</em> button to
show the list of micrographs and their PSD (Fig. 5). To discard micrographs with
bad CTFs you may click with the mouse right button and press _Disable_. Once you
finish the selection, press on the Micrographs button to create a subset of
micrographs with only the enabled ones.</p>
<div class="figure align-center" id="id6">
<a class="reference internal image-reference" href="../../images/05.ProtGctfResults.png"><img alt="GUI input form of the gctf protocol" src="../../images/05.ProtGctfResults.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-text">Figure 5. Displaying CTF results</span></p>
</div>
<p>Sometimes the CTF estimation algorithm may fail to find the rings even if they
can be seen by eye. If this is the case, you may help the algorithm to find the
rings by clicking on the image with the mouse right-button and choosing
<code class="docutils literal notranslate"><span class="pre">Recalculate</span> <span class="pre">CTF</span></code> on the menu that appears. A graphical interface will help
you to correctly identify the CTF. You must provide the first CTF zero and the
search range, and then press <em>OK</em>. When you finish, press the <em>Recalculate CTFs</em>
button.</p>
<p>It is possible to analyze the CTF profiles by right-click on a micrograph row
and selecting the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">CTF</span> <span class="pre">profile</span></code> option which should open a window shown in
fig. 6. It is also possible to analyze the CTF fitting by selecting the
<code class="docutils literal notranslate"><span class="pre">Display</span> <span class="pre">CTF</span> <span class="pre">Analysis</span></code> option. A plot should appear with the 1D profiles
calculated by gctf (fig. 7). This is an interactive plot that can be zoomed to
specific regions among other things.</p>
<div class="figure align-center" id="id7">
<a class="reference internal image-reference" href="../../images/06.ProtGctfCTFProfile.png"><img alt="GUI input form of the gctf protocol" src="../../images/06.ProtGctfCTFProfile.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 6. CTF profile</span></p>
</div>
<div class="figure align-center" id="id8">
<a class="reference internal image-reference" href="../../images/07.CTFFitting1.png"><img alt="GUI input form of the gctf protocol" src="../../images/07.CTFFitting1.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">Figure 7. CTF fitting</span></p>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>[1] Zhang K. (2016). Gctf: Real-time CTF determination and correction. JSB, 193: 1-12.</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: gh-pages
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="protGctf.html">gh-pages</a></dd>
            <dd><a href="../../../release-2.0.0/docs/user/protGctf.html">release-2.0.0</a></dd>
            <dd><a href="../../../release-3.0.0/index.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>