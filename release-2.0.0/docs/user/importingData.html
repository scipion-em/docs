

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Importing Data &mdash; Scipion 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
        <script type="text/javascript" src="../../static/jquery.js"></script>
        <script type="text/javascript" src="../../static/underscore.js"></script>
        <script type="text/javascript" src="../../static/doctools.js"></script>
        <script type="text/javascript" src="../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/install-from-sources.html">Installing Scipion v2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">Streaming Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/acquisition-simulation.html">Tutorial for Facilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/pyworkflow.html">pyworkflow package</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Importing Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../sources/docs/user/importingData.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../images/scipion_logo.gif"><img alt="scipion logo" src="../../images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="importing-data">
<span id="importingdata"></span><h1><a class="toc-backref" href="#id5">Importing Data</a><a class="headerlink" href="#importing-data" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents:</p>
<ul class="simple">
<li><a class="reference internal" href="#importing-data" id="id5">Importing Data</a><ul>
<li><a class="reference internal" href="#introduction" id="id6"><strong>Introduction</strong></a></li>
<li><a class="reference internal" href="#ctfs" id="id7"><strong>CTFs</strong></a></li>
<li><a class="reference internal" href="#coordinates" id="id8"><strong>Coordinates</strong></a></li>
<li><a class="reference internal" href="#micrographs" id="id9"><strong>Micrographs</strong></a></li>
<li><a class="reference internal" href="#particles" id="id10"><strong>Particles</strong></a></li>
<li><a class="reference internal" href="#tilt-pairs" id="id11"><strong>Tilt pairs</strong></a></li>
<li><a class="reference internal" href="#movies-volumes-averages-masks-etc" id="id12"><strong>Movies, volumes, averages, masks etc.</strong></a></li>
<li><a class="reference internal" href="#import-export-scipion-projects-and-workflows" id="id13"><strong>Import/export Scipion projects and workflows</strong></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id6"><strong>Introduction</strong></a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In Scipion the import is almost the only place where the user needs to deal directly
with files. In our model each protocol has very well defined inputs and outputs, which
are data objects. These objects (_SetOfMovies_, _SetOfParticles_, _Volume_, _CTFModel_,
etc.) encapsulate the underlying files and formats.
When importing data like _SetOfMovies_, _SetOfMicrographs_ or _SetOfParticles_, the
user provides critical information (such as the <strong>Pixel Size</strong>). This information will not
be requested any more and should be properly propagated.</p>
<p>Since important information is provided during the import step, it is recommended
to take your time to check that all input parameters are correct.
When importing, the binary files are not copied to the project to avoid data
duplication. Instead, soft links are created pointing to the files location. If you
move your project to another computer these links may be broken. There is
an advanced option where you can set _Copy files?_ to <strong>Yes</strong>. In this case, the
project is more self-contained at the price of using more disk space.</p>
<p>The following paragraphs describe supported formats for different import objects.</p>
</div>
<div class="section" id="ctfs">
<h2><a class="toc-backref" href="#id7"><strong>CTFs</strong></a><a class="headerlink" href="#ctfs" title="Permalink to this headline">¶</a></h2>
<p>Import of CTF estimation results is possible for:</p>
<ul class="simple">
<li><strong>.ctfparam</strong> files from Xmipp.</li>
<li><strong>.log</strong>/<strong>.txt</strong>/<strong>.out</strong> files from CTFFind3/4. Typically user has to have</li>
</ul>
<p>_MicName_ctffind3.log_ and _MicName.ctf_ files in the import folder so that both
CTF parameters and power spectrum could be detected.
* <strong>.log</strong> files from Gctf. Similarly to CTFFind, the log files are usually
_MicName_ctffind3.log_ or _MicName_gctf.log_.</p>
</div>
<div class="section" id="coordinates">
<h2><a class="toc-backref" href="#id8"><strong>Coordinates</strong></a><a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h2>
<p>Scipion can import coordinates from several picking programs:</p>
<ul class="simple">
<li><strong>.box</strong> files from EMAN1/2, Gautomatch, Gempicker</li>
<li><strong>.json</strong> files from EMAN2 (_info/<a href="#id1"><span class="problematic" id="id2">*</span></a>_info.json_ files in EMAN2 project folder)</li>
<li><strong>.pos</strong> files from Xmipp3 (STAR format)</li>
<li><strong>.star</strong> files from Relion, Gautomatch</li>
<li><strong>.txt</strong> files from Appion DogPicker</li>
</ul>
<p>Coordinates files are supposed to match micrograph names, i.e. _MicName.box_.</p>
<p>In GUI protocol form import can be set to _Auto_ so that Scipion will try to
detect format type by file extension. You can also import simple txt files
containing two columns: <code class="docutils literal notranslate"><span class="pre">_X-coord</span> <span class="pre">Y-coord_</span></code>. In that case origin (1,1) should
be located at the top left corner of the micrograph with X-axis pointing right
and Y-axis pointing downwards. The coordinates mark the box center (fig. 1).</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../images/box_coord.png"><img alt="Box coordinates" src="../../images/box_coord.png" style="width: 200px;" /></a>
</div>
<p>For details about import of coordinates inside Xmipp picker interface,
see  <a class="reference external" href="https://github.com/I2PC/scipion/wiki/Picker#import-coordinates">[here]</a></p>
</div>
<div class="section" id="micrographs">
<h2><a class="toc-backref" href="#id9"><strong>Micrographs</strong></a><a class="headerlink" href="#micrographs" title="Permalink to this headline">¶</a></h2>
<p>Micrographs can be imported either directly from files (default option, see the
list of <a class="reference external" href="http://xmipp.cnb.csic.es/twiki/bin/view/Xmipp/ImageFormats))">[supported formats]</a> or:</p>
<ul class="simple">
<li><strong>emx</strong> - EMX files follow Electron Microscopy Exchange format (details can be found <a class="reference external" href="http://i2pc.cnb.csic.es/emx/LoadHome.htm">[here]</a></li>
<li><strong>scipion</strong> - you can provide <strong>.sqlite</strong> database file created previously with Scipion and containing all associated micrograph metadata</li>
<li><strong>xmipp</strong> - Xmipp metadata files (<strong>.md</strong>) are usually produced by import or preprocess protocols.</li>
</ul>
</div>
<div class="section" id="particles">
<h2><a class="toc-backref" href="#id10"><strong>Particles</strong></a><a class="headerlink" href="#particles" title="Permalink to this headline">¶</a></h2>
<p>Scipion will try to automatically read metadata associated with particles
(alignment, CTF etc. if available). Besides particle set, Scipion might create
_SetOfClasses_ or/and _SetOfMicrographs_ that are associated with imported
particles. The following formats are currently supported:</p>
<ul class="simple">
<li><strong>files</strong> - default import mode</li>
<li><strong>emx</strong> - EMX files follow Electron Microscopy Exchange format (details can be found <a class="reference external" href="(http://i2pc.cnb.csic.es/emx/LoadHome.htm))">[here]</a></li>
<li><strong>frealign</strong> - FReAlign files. You need to provide both stack file and <strong>.par</strong> file</li>
<li><strong>relion</strong> - Relion STAR file, e.g. _itXX_data.star_</li>
<li><strong>scipion</strong> - <strong>.sqlite</strong> file created previously with Scipion, e.g. _particles.sqlite_</li>
<li><strong>xmipp3</strong> - Xmipp metadata file, e.g. _images.xmd_</li>
</ul>
</div>
<div class="section" id="tilt-pairs">
<h2><a class="toc-backref" href="#id11"><strong>Tilt pairs</strong></a><a class="headerlink" href="#tilt-pairs" title="Permalink to this headline">¶</a></h2>
<p>Protocol <strong>scipion - import tilted micrographs</strong> allows to import tilt pair
images, e.g. from RCT dataset. In this first version of the protocol, pairs
assignment is done by micrograph order but in next versions a wizard will be
provided.</p>
<p>This means the patterns for tilt pair images should be i.e. <strong>img_untilt_*.tif</strong>
and <strong>img_tilt_*.tif</strong>, corresponding to micrographs <strong>img_untilt_01.tif</strong>,
<strong>img_untilt_02.tif</strong> etc. and <strong>img_tilt_01.tif</strong>, <strong>img_tilt_02.tif</strong> etc.</p>
</div>
<div class="section" id="movies-volumes-averages-masks-etc">
<h2><a class="toc-backref" href="#id12"><strong>Movies, volumes, averages, masks etc.</strong></a><a class="headerlink" href="#movies-volumes-averages-masks-etc" title="Permalink to this headline">¶</a></h2>
<p>All other Scipion objects are imported directly from files. Look at the list
of <a class="reference external" href="(http://xmipp.cnb.csic.es/twiki/bin/view/Xmipp/ImageFormats)">[supported image formats]</a>.
Right now, DM4 files and new IMAGIC format are not fully supported yet
(you still can import such files), but we are working on it.</p>
<p>Movies are expected to be in stack files (e.g., <strong>mrc</strong>, <strong>mrcs</strong> etc.). However,
import of individual frames is also possible (see <strong>Frames</strong> tab in Import
movies protocol GUI).</p>
</div>
<div class="section" id="import-export-scipion-projects-and-workflows">
<h2><a class="toc-backref" href="#id13"><strong>Import/export Scipion projects and workflows</strong></a><a class="headerlink" href="#import-export-scipion-projects-and-workflows" title="Permalink to this headline">¶</a></h2>
<p>The ability to export/import workflows in Scipion is a great way to reproduce
previous processing steps. It is particularly useful to repeat steps for similar
samples or to share knowledge between users. Scipion stores workflow in a text
file in JSON format that is human-readable and easily editable.</p>
<p>To import existing workflow, in main project window select
<strong>Project &gt; Import workflow</strong> and choose a <strong>.json</strong> file. If you want to export
certain protocols, select &gt;=2 protocol boxes in main project window and
click <strong>Export</strong>.</p>
<p>It is also possible to import whole projects, e.g. from other computer. To do so,
click on <em>Import project</em> button in the main Project window  and provide a path
to the project folder (usually in ScipionUserData/Projects). By default, Scipion
will copy the folder and try to fix broken links. You can help it by providing
raw files location.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-2.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../gh-pages/docs/user/importingData.html">gh-pages</a></dd>
            <dd><a href="importingData.html">release-2.0.0</a></dd>
            <dd><a href="../../../release-3.0.0/docs/user/importingData.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>