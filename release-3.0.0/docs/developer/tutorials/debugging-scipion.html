

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Debugging Scipion with PyCharm &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Debugging Scipion with PyCharm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/developer/tutorials/debugging-scipion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="debugging-scipion-with-pycharm">
<span id="debugging-scipion"></span><h1>Debugging Scipion with PyCharm<a class="headerlink" href="#debugging-scipion-with-pycharm" title="Permalink to this headline">¶</a></h1>
<div class="section" id="associated-resources">
<h2>Associated resources<a class="headerlink" href="#associated-resources" title="Permalink to this headline">¶</a></h2>
<p>Here you can find resources associated with this content, like videos or presentations used in courses:</p>
<p><a class="reference external" href="https://docs.google.com/presentation/d/1gUhKki2Oz-isd6-ZtrjMmA1rk21EoWMGaK-7gWVNvAY/edit?usp=sharing">Course presentation</a></p>
<p><a class="reference external" href="pycharm">Configuring PyCharm</a></p>
</div>
<div class="section" id="practice">
<h2>Practice<a class="headerlink" href="#practice" title="Permalink to this headline">¶</a></h2>
<p>We assume you have Scipion3 installed and <a class="reference external" href="pycharm">PyCharm configured</a></p>
<p>We will learn how to add run configurations to skip scipion3 launcher and directly been able to use
PyCharm “debug” button straight away with many of the scipion modes (tests, project, config, …)</p>
<p>We will also learn how to attach to a “protocol process” to debug its steps.</p>
</div>
<div class="section" id="skipping-the-scipion3-launcher-in-pycharm-configurations">
<h2>Skipping the scipion3 launcher in PyCharm configurations<a class="headerlink" href="#skipping-the-scipion3-launcher-in-pycharm-configurations" title="Permalink to this headline">¶</a></h2>
<p>Add a new PyCharm configuration: they can be used to easily executed commands in one click. To create a new configuration, click on Add Configuration &gt; ‘+’ icon &gt; python:</p>
<blockquote>
<div><div class="figure">
<img alt="pycharm create configuration" src="../../../_images/pycharm_create_configuration.png" />
</div>
</div></blockquote>
<p>Set the values according to the image below</p>
<blockquote>
<div><div class="figure">
<img alt="pycharm create direct configuration" src="../../../_images/pycharm_config_direct.png" />
</div>
</div></blockquote>
<ol class="arabic simple">
<li><em>Name</em>: scipion3 last.</li>
<li><em>Module name</em>: Choose module mane in the dropdown instead of script and then choose “scipion”</li>
<li><em>Parameters</em>: enter “last”. This will open directly the last modified project.</li>
<li><em>Environment variables</em>: You need to set 2 of them</li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li>SCIPION_HOME=/path/where/scipion/is/installed</li>
<li>LD_LIBRARY_PATH=/path/where/scipion/is/installed/software/lib</li>
</ol>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><em>Working directory</em>: same as SCIPION_HOME</li>
</ol>
<p>“Apply” and you’ll have now a “direct” run/debug PyCharm configuration.</p>
<p>NOTE: Duplicating this configuration  and changing the “Parameters” field and “Name” will provide you more direct run
configurations for other scipion modes like “tests”, “config”, … Type <cite>scipion3 help</cite> to discover them.</p>
</div>
<div class="section" id="testing-the-direct-configuration">
<h2>Testing the direct configuration<a class="headerlink" href="#testing-the-direct-configuration" title="Permalink to this headline">¶</a></h2>
<p>Set a breakpoint at scipion-app/scipion/__main__.py in the first import line by
clicking in the empty space between the line number and the import line. A dot should appear</p>
<p>Click on the “Green bug” icon, or Run&gt;&gt;Debug or it’s shortcut</p>
<p>PyCharm should stop execution in that breakpoint line.</p>
<p>Checkout this <a class="reference external" href="https://www.jetbrains.com/help/pycharm/2020.2/debugging-code.html?utm_source=product&amp;utm_medium=link&amp;utm_campaign=PY&amp;utm_content=2020.2#debug">page</a>
to learn more about debugging in PyCharm.</p>
</div>
<div class="section" id="debugging-the-clicking-on-execute-button">
<h2>Debugging the clicking on “Execute” button<a class="headerlink" href="#debugging-the-clicking-on-execute-button" title="Permalink to this headline">¶</a></h2>
<p>Let’s debug what happens when you click on the “execute” button in the protocol form.
Set a breakpoint at <cite>scipion-pyworkflow/pyworkflow/gui/form.py/FormWindow.execute</cite>
Don’t worry if you don’t understand all the code there. Click on the debug icon.
Try to understand:</p>
<ol class="arabic simple">
<li>How the protocol validation happens</li>
<li>Try to reach the point where the new process for the protocol is created</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="debugging-scipion.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>