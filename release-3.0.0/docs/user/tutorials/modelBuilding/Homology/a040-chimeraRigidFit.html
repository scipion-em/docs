

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. ChimeraX Rigid Fit protocol &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="8. CCP4 Coot Refinement protocol" href="a050-ccp4CootRefinement.html" />
    <link rel="prev" title="6. ChimeraX Restore Session protocol" href="a030-chimeraRestoreSession.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/how-to-install.html">Installing Scipion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../user-documentation.html#tutorials">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../user-documentation.html#single-particle-tutorials">Single particle tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../user-documentation.html#tomography-tutorials">Tomography tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../user-documentation.html#model-building">Model Building</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Model Building by Homology</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#contents">Contents</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#appendices">Appendices</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Alphafold/index.html">Build initial model with Alphafold</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../user-documentation.html">Graphical interface manuals</a> &raquo;</li>
        
          <li><a href="index.html">Model Building Tutorial</a> &raquo;</li>
        
      <li><span class="section-number">7. </span>ChimeraX Rigid Fit protocol</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../../_sources/docs/user/tutorials/modelBuilding/Homology/a040-chimeraRigidFit.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chimerax-rigid-fit-protocol">
<span id="app-chimerarigidfit"></span><h1><span class="section-number">7. </span>ChimeraX Rigid Fit protocol<a class="headerlink" href="#chimerax-rigid-fit-protocol" title="Permalink to this heading">¶</a></h1>
<p>Protocol designed to manually fit atomic structures to electron density
maps in <em>Scipion</em> by using <em>ChimeraX</em>. If <em>map</em> and <em>model</em> are quite close, e.g. after
running <em>PHENIX dock in map</em> protocol, automatic fitting is also possible.
Fitted atomic structures generated by using this protocol can be saved
in <em>Scipion</em> after executing specific <em>ChimeraX</em> commands.</p>
<ul>
<li><div class="line-block">
<div class="line">Requirements to run this protocol and visualize results:</div>
</div>
<ul>
<li><div class="line-block">
<div class="line"><em>Scipion</em> plugin: <strong>scipion-em</strong></div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>Scipion</em> plugin: <strong>scipion-em-chimera</strong></div>
</div>
</li>
</ul>
</li>
<li><div class="line-block">
<div class="line"><em>Scipion</em> menu:</div>
<div class="line"><em>Model building -&gt; Rigid fitting</em> (<a class="reference internal" href="#model-building-app-protocol-chimera-1"><span class="std std-numref">Fig. 7.14</span></a> (A))</div>
</div>
<div class="figure align-center" id="model-building-app-protocol-chimera-1">
<a class="reference internal image-reference" href="../../../../../_images/Fig116.svg"><img alt="Protocol **chimerax-rigid fit**. A: Protocol location in *Scipion* menu. B: Protocol form." src="../../../../../_images/Fig116.svg" width="90.0%" /></a>
<p class="caption"><span class="caption-number">Fig. 7.14 </span><span class="caption-text">Protocol <strong>chimerax-rigid fit</strong>. A: Protocol location in <em>Scipion</em> menu. B: Protocol form.</span><a class="headerlink" href="#model-building-app-protocol-chimera-1" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><div class="line-block">
<div class="line">Protocol form parameters (<a class="reference internal" href="#model-building-app-protocol-chimera-1"><span class="std std-numref">Fig. 7.14</span></a> (B)):</div>
</div>
<ul>
<li><div class="line-block">
<div class="line"><em>Input</em> section</div>
</div>
<ul>
<li><div class="line-block">
<div class="line"><em>Input Volume</em>: Mandatory param to load the electron density <em>map</em> previously downloaded or generated in <em>Scipion</em> to fit the atomic structure.</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>Input additional Volumes</em>: <span class="math">Idem</span>. If additional maps, others than the previous <em>map</em>, are needed.</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>Atomic structure to be fitted</em>: Mandatory param to load the atomic structure previously downloaded or generated in <em>Scipion</em> to be fitted to an electron density map.</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>Other reference atomic structures</em>: Atomic structures others than the previous <em>model</em> used to help in the rigid body fitting process.</div>
</div>
</li>
</ul>
</li>
<li><div class="line-block">
<div class="line"><em>Help</em> section</div>
</div>
<div class="line-block">
<div class="line">This section contains <em>ChimeraX</em> commands required to save <em>models</em> according to their reference volumes, which can also be saved if required. Remark that using <em>scipionwrite</em> command, <em>ChimeraX</em> session will be saved by default, without prejudice that it may be saved with <em>scipionss</em> command. <em>ChimeraX</em> sessions can be restored by using <strong>chimerax-restore session</strong> protocol. In addition, <em>scipioncombine</em> allows to combine several atomic structures in a unique <em>model</em>.</div>
</div>
</li>
</ul>
</li>
<li><div class="line-block">
<div class="line">Protocol execution:</div>
</div>
<div class="line-block">
<div class="line">Adding specific map/structure label is recommended in <em>Run name</em>
section, at the form top. To add the label, open the protocol form,
press the pencil symbol at the right side of <em>Run name</em> box,
complete the label in the new opened window, press OK and, finally,
close the protocol. This label will be shown in the output summary
content (see below). If you want to run again this protocol, do not
forget to set to <em>Restart</em> the <em>Run mode</em>.</div>
</div>
<div class="line-block">
<div class="line">Press the <em>Execute</em> red button at the form bottom.</div>
</div>
<div class="line-block">
<div class="line"><em>ChimeraX</em> graphics window will be opened after executing the protocol. The
electron density map and the atomic structure are shown. Main steps
to complete the rigid body fitting are:</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">If density map and atomic structure are quite close to each
other:</div>
</div>
<div class="line-block">
<div class="line">Go to <em>ChimeraX</em> main menu and select <em>Tools -&gt; Volume Data-&gt; Fit in Map</em>.
A small <em>Fit in Map</em> window will be opened. Once the right
atomic structure and the electron density volume have been
selected, fit them by clicking <em>Fit</em>.</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">Note:</span></code> The same result can be obtained by typing in the command
line <em>fit #n1 inMap #n2</em>, with <em>#n1</em> and <em>#n2</em> model numbers of
<em>model</em> and <em>map</em>.</div>
</div>
</li>
<li><p>If <em>model</em> and <em>map</em> are far from each other, start the fitting
process interactively activating and inactivating <em>ChimeraX</em> objects
alternatively to finally get <em>map</em> and <em>model</em> close enough to go
to the previous step. Otherwise, consider the possibility of
running the protocol <strong>chimerax-rigid fit</strong> after <em>PHENIX dock in map</em> protocol.</p></li>
<li><div class="line-block">
<div class="line">To combine two or more atomic structures, write in <em>ChimeraX</em> command line:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scipioncombine</span> <span class="c1">#n1,n2</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line"><em>#n1</em> and <em>#n2</em> are the respective <em>model</em> numbers of two
different atomic structures. Optionally you can set the
<em>model</em> number of the output combined structure <em>#n3</em>:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scipioncombine</span> <span class="c1">#n1,n2 modelid n3</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><div class="line-block">
<div class="line">Save fitted <em>model</em> by writing in <em>ChimeraX</em> command
line:</div>
</div>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scipionwrite</span> <span class="c1">#n prefix userString_</span>
</pre></div>
</div>
</div></blockquote>
<div class="line-block">
<div class="line">Replace <em>#n</em> by model numbers shown in <em>ChimeraX Models</em> panel. <em>prefix</em>
+ string preferred by the user to easily identify the atomic
structure is optional, although quite recomendable.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Close <em>ChimeraX</em> graphics window.</div>
</div>
</li>
</ul>
</li>
<li><div class="line-block">
<div class="line">Visualization of protocol results:</div>
</div>
<div class="line-block">
<div class="line">After executing the protocol, press <em>Analyze Results</em> and <em>ChimeraX</em> graphics window will be opened by default. Atomic structures and volumes are referred to the origin of coordinates in <em>ChimeraX</em>. To show the relative position of <em>model</em> and <em>map</em>, the three coordinate axes are represented; X axis (red), Y axis (yellow), and Z axis (blue) (<a class="reference internal" href="a020-chimeraOperate.html#model-building-app-protocol-volume-3"><span class="std std-numref">Fig. 5.3</span></a>). Coordinate axes, map, and atomic structure are model numbers <em>#1</em>, <em>#2</em>, and <em>#3</em>, respectively, in <em>ChimeraX Models</em> panel in the most simple case.</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Summary content:</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">If only the atomic structure has been saved by <em>scipionwrite</em> command:</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">Protocol output (below <em>Scipion</em> framework):</div>
<div class="line"><em>chimerax - operate -&gt; output atomic structure name, starting
with the prefix</em>;</div>
<div class="line"><em>AtomStruct (pseudoatoms=True/ False, volume=True/ False)</em>.</div>
<div class="line">Pseudoatoms is set to <em>True</em> when the structure is made of
pseudoatoms instead of atoms. Volume is set to <em>True</em> when an
electron density map is associated to the atomic structure.</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>SUMMARY</em> box:</div>
<div class="line">Produced files:</div>
<div class="line">output atomic structure name, starting with the prefix (.cif
file)</div>
<div class="line">we have some result</div>
</div>
</li>
</ul>
</li>
<li><div class="line-block">
<div class="line">If both the atomic structure and its reference electron density map have been saved by <em>scipionwrite</em> command:</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">Protocol output (below <em>Scipion</em> framework):</div>
<div class="line"><em>chimerax - rigid fit -&gt; Map_name</em>; <em>Volume (x, y, and z
dimensions, sampling rate)</em>.</div>
<div class="line"><em>chimerax - rigid fit -&gt; Atom_struct_name</em>;</div>
<div class="line"><em>AtomStruct (pseudoatoms=True/ False, volume=True/ False)</em>.</div>
<div class="line">Pseudoatoms is set to <em>True</em> when the structure is made of
pseudoatoms instead of atoms. Volume is set to <em>True</em> when an
electron density map is associated to the atomic structure.</div>
</div>
</li>
<li><div class="line-block">
<div class="line"><em>SUMMARY</em> box:</div>
<div class="line">Produced files:</div>
<div class="line">Map_name file, starting with the prefix (.mrc)</div>
<div class="line">we have some result</div>
</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="a050-ccp4CootRefinement.html" class="btn btn-neutral float-right" title="8. CCP4 Coot Refinement protocol" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="a030-chimeraRestoreSession.html" class="btn btn-neutral float-left" title="6. ChimeraX Restore Session protocol" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../../../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../../../../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="a040-chimeraRigidFit.html">release-3.0.0</a></dd>
            <dd><a href="../../../../../../rm_model_building/index.html">rm_model_building</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>