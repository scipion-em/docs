<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tomography in Scipion &mdash; Scipion 3.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Scipion
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/how-to-install.html">Installing Scipion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html#image-processing-resources">Image processing resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">Licenses</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Scipion</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Tomography in Scipion</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/user/tutorials/tomo/tomography-intro.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference internal image-reference" href="../../../../_images/scipion-tomo-color.png"><img alt="scipion tomo logo" class="align-right" src="../../../../_images/scipion-tomo-color.png" style="width: 100px;" /></a>
<div class="section" id="tomography-in-scipion">
<span id="tomography-intro"></span><h1>Tomography in Scipion<a class="headerlink" href="#tomography-in-scipion" title="Permalink to this heading"></a></h1>
<p>Scipion now talks cryo-electron tomography! It s been a long journey of developing and beta-testing the new set
of plugins to make cryo-ET user-friendly and remove some of the main obstacles of this image processing pipepline:
traceability, software interoperability and results visualization.</p>
<div class="section" id="integration">
<h2>Integration<a class="headerlink" href="#integration" title="Permalink to this heading"></a></h2>
<p>In the same way as we’ve done it for single-particle analysis (SPA) we (a set of developers and beta-testers) have
integrated most of the relevant software used in cryoET so you, as a user, can forget about moving files around,
launching complicated commands or convert data and metadata. Scipion Tomo does it for you. Here is a short list of
the software integrated today (26th April 2023), but since Scipion is extensible by plugins we hope more developers
will join the project to integrate their nice software into this platform.</p>
<ul class="simple">
<li><p>Motioncor2 (scipion-em-motioncorr)</p></li>
<li><p>Xmipp (tomo) (scipion-em-xmipptomo)</p></li>
<li><p>Imod (scipion-em-imod)</p></li>
<li><p>Aretomo (scipion-em-aretomo)</p></li>
<li><p>tomo3d (scipion-em-tomo3d)</p></li>
<li><p>IsoNET (scipion-em-isonet)</p></li>
<li><p>NovaCTF (scipion-em-novactf)</p></li>
<li><p>Cistem (scipion-em-cistem)</p></li>
<li><p>gCTF (scipion-em-gctf)</p></li>
<li><p>Eman2: pickings, initial model, alignment and reconstruction (scipion-em-emantomo)</p></li>
<li><p>Dynamo: picking, alignment and reconstruction (scipion-em-dynamo)</p></li>
<li><p>cryoCARE (scipion-em-cryocare)</p></li>
<li><p>crYOLO: picking, filament picking, and training (scipion-em-sphire)</p></li>
<li><p>PySeg (scipion-em-pyseg)</p></li>
<li><p>DeepFinder (scipion-em-deepfinder)</p></li>
<li><p>TomosegmemTV (scipion-em-tomosegmemtv)</p></li>
<li><p>Tomotwin (scipion-em-tomotwin)</p></li>
<li><p>Relion: tomo jobs (scipion-em-reliontomo)</p></li>
<li><p>Susantomo (scipion-em-susantomo)</p></li>
<li><p>Continuousflex (scipion-em-continuousflex)</p></li>
</ul>
<p>In brackets, the plugin that integrates the software and in most cases installs it too!</p>
<p>Here you can see how one of our tutorials workflows mixes some of the software integrated.</p>
<img alt="Tomography workflow with SPA showing software interoperability." src="../../../../_images/tomo-workflow.png" />
<p>Please, note that relion methods in this case are SPA ones (2D classification and 2D class ranker)
in what we have called the “SPA leap”. This is done by projecting subtomograms on any of the 3 axis
to get 2D particles. Once flattened, particles can be send to ANY SPA available protocol,
in this case Relion’s 2D classification, but could have used Cryosparc as well. Then with the “subset”
we go back to 3D world filtering subtomograms based on their 2d SPA averages.</p>
</div>
<div class="section" id="current-status">
<h2>Current status<a class="headerlink" href="#current-status" title="Permalink to this heading"></a></h2>
<p>Note that current status is BETA. Many of the protocols are even more stable but we are not that sure
for others. Ad today (3rd May 2023) the following are the detailed weaknesses of the workflow we are aware of:</p>
<ul class="simple">
<li><p>Eman: Refinement does not take into account the CTF. Best approach would be to CTF correct the images. Although even this has to be tested.</p></li>
<li><p>Deepfinder, although test are passing might need a review.</p></li>
<li><p>CryoCARE: also might need a review.</p></li>
<li><p>Continuousflex needs adaptation to tomography model.</p></li>
</ul>
</div>
<div class="section" id="results-and-its-visualization">
<h2>Results and its Visualization<a class="headerlink" href="#results-and-its-visualization" title="Permalink to this heading"></a></h2>
<p>Visualization is quite important in any image processing pipeline. Scipion has a visualization engine that
with little effort allow developer to integrate existing visualization tools from a 3rd party software, or define
new way of visualizing the results.</p>
<p>Here you can see how easily you can visualise tilt series using the versatile Imod’s 3dmod program.</p>
<img alt="3dmod showing a tilt series" src="../../../../_images/3dmod.gif" />
<p>Moreover, for viewing a set of tomography CTFs we have developed a custom viewer that plots the
defocus values and resolution along the selected tilt series and its basic metadata.</p>
<img alt="Scipion viewer for a Set of tomography CTFs." src="../../../../_images/tomo-ctf-viewer.png" />
<p>See in how many different ways you can visualise any set of 3D coordinates:
Tomoviz (with and without orientations), Dynamo or Eman2, napari, your choice!!.</p>
<img alt="Scipion viewer for a Set of tomography CTFs." src="../../../../_images/3dcoordinates-viewers.gif" />
<p>We have been creative also and used Imod’s fiducial viewer to plot relion4 projected 3d coordinates
as a way to double check if all is in place before doing relion’s per particle per tilt refinement.
Be aware that you can enter relion4 tomogram pipeline having aligned you tilt series with aretomo
(for example). We will “trick” relion4 simulating the imod files it needs!.</p>
<img alt="Visualisation of 3d coordinates as fiducials in 3dmod." src="../../../../_images/relion4-projected-particles.gif" />
<p>Of course, ChimeraX is integrated to render subtomogram averages as the one at 3.7 Å reached
100% inside Scipion (staring from relion4’s HIV capsid tutorial dataset) and before any CTF or tilt series
refinement.</p>
<img alt="Zoomed in section in ChimeraX of the HIV capsid at 3.7 Å." src="../../../../_images/chimerax.gif" />
<p>Once you have the proper average you could also map it back to the original tomogram to see in situ features
using xmipptomo map back protocol.</p>
<img alt="Xmipptomo map back done of the HIV capsid." src="../../../../_images/mapback.png" />
</div>
<div class="section" id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Permalink to this heading"></a></h2>
<p>As one of our colleagues here uses to say: “The good thing of cryo em methods is that they will
always give you a result. The bad thing is that they will always give you a results”. ;-).</p>
<p>In the same way we have done with SPA processing we are crating validations tools to  verify the quality
of your results before going forward. This is already happening with “xmipptomo - subtomo alignemnt consensus”,
“tomo - tilt series consensus alignment”, “tomoviz - picking consensus” or “xmipp - consensus clustering 3d”</p>
</div>
<div class="section" id="basic-operations">
<h2>Basic operations<a class="headerlink" href="#basic-operations" title="Permalink to this heading"></a></h2>
<p>Of course all this comes out of the box with all the functionality that scipion already provides for any project:
* Color labeling
* Duplicating a branch of the workflow
* Resetting/restarting a branch of the workflow
* Workflow templates (there are some already for imod automatic tilt series alignment or pySeg picking)
* Workflow planning and scheduling
* Streaming: As of today streaming covers <strong>motion correction + tilt series composition</strong>. More to come!
* Easy subseting: manual or parametrized
* Metadata plotting
* Third party installation. Yes, when authorized, we offer installation (optional) for the software we integrate.
* Filter by normals
* Remove duplicates
* …</p>
</div>
<div class="section" id="how-to-get-it">
<h2>How to get it?<a class="headerlink" href="#how-to-get-it" title="Permalink to this heading"></a></h2>
<p>As simple as installing the plugins you want to use. Obviously you first need to get <a class="reference internal" href="../../../scipion-modes/how-to-install.html#how-to-install"><span class="std std-ref">scipion installed</span></a>
and then use the <a class="reference internal" href="../../plugin-manager.html#plugin-manager"><span class="std std-ref">plugin manager</span></a> to install the tomography plugins. Each plugin will install the software
behind it integrates (by default) but can be canceled in case you already have it. In this case, see how to do it here:
<a class="reference internal" href="../../../scipion-modes/linking-existing-software.html#linking-existing-software"><span class="std std-ref">link existing software</span></a></p>
</div>
<div class="section" id="one-more-thing">
<h2>One more thing<a class="headerlink" href="#one-more-thing" title="Permalink to this heading"></a></h2>
<p>Please, please … cite us! and cite <strong>all the great software we integrate</strong> too!. Citations is what fuels all the software.
Yes, Scipion kind of “hides” in many cases the software it integrates but there is no way to do it otherwise.
For every protocol you have all the references in bibtex format available and quite easily you can get all the references
involved in your project. Please do so!.</p>
<img alt="Zoomed in section in ChimeraX of the HIV capsid at 3.7 Å." src="../../../../_images/bibtex-export.gif" />
</div>
<div class="section" id="brought-to-you-by">
<h2>Brought to you by<a class="headerlink" href="#brought-to-you-by" title="Permalink to this heading"></a></h2>
<p>Led by I2PC (at Madrid) but with key contributions of other developers and betatesters all over the world.
We would like to specially congratulate Grigory Sharov for been also here in tomography as well as in SPA,
Antonio Martinez Sanchez (pySeg developer) for assisting us integrating pySeg, Daniel Castaño for guiding
us into Dynamo world, Emmanuel Moebel for integrating deepfinder, Tim Oliver Buchholz for integrating cryoCARE,
Mohamad Harastani for his great job with continuousflex, “Quino” for guiding us into relion4 tomography,
Bram Koster, Borja Rodriguez, Ana Cuervo and Patricia Losana for betatesting since the very begining all this
code we now released. It was painful at times, I know, but I hope it payed off. Of course, the whole Madrid’s
developers team (Scipion core and Xmipp developers) and leaders: Jose Maria Carazo and Carlos Oscar Sanchez-Sorzano</p>
</div>
<div class="section" id="is-that-it">
<h2>Is that it?<a class="headerlink" href="#is-that-it" title="Permalink to this heading"></a></h2>
<p>NO! But for now you can start enjoying tomography processing but be sure more integrations will come.
In the oven, we have, deepict, per-particle per tilt in eman, subtomogram averaging in xmipp,
streamifying more protocols … and more importantly, that new “new method” that will appear and
revolutionise the field …. will very likely be integrated…. and YES! M, as soon as
<a class="reference external" href="https://groups.google.com/g/warp-em/c/dAsmMnlULJA/m/CzlgVkJMCAAJ">can run on linux</a> it will be here too</p>
<p>If you like what you’ve read, either if you are facility staff, a regular image processing user or a developer,
please, join us at our <a class="reference external" href="https://discord.gg/TzS5VTKQbY">discord workspace</a>: You are very welcome! and the people
there will be happy to assist you.</p>
</div>
<div class="section" id="additional-resources">
<h2>Additional resources<a class="headerlink" href="#additional-resources" title="Permalink to this heading"></a></h2>
<p>Here you can find some valuable resources to complement the contents described:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://doi.org/10.1016/j.jsb.2022.107872">Scipion for tomography paper</a></p></li>
<li><p><a class="reference internal" href="../../tomography-tutorials.html#tomography-tutorials"><span class="std std-ref">Tomography tutorials</span></a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/&#64;BiocompWebs/search?query=tomography">Youtube I2PC channel (filtered by “tomography”)</a></p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Scipion team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>