<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tutorial - Tomography streaming workflow &mdash; Scipion 3.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../index.html" class="icon icon-home"> Scipion
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/how-to-install.html">Installing Scipion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html#image-processing-resources">Image processing resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../license.html">Licenses</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Scipion</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Tutorial - Tomography streaming workflow</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/docs/user/tutorials/tomo/Tomo_streaming/tomostreaming.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="figure align-default">
<a class="reference internal image-reference" href="../../../../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../../../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="tutorial-tomography-streaming-workflow">
<span id="tomostreaming"></span><h1><a class="toc-backref" href="#id3">Tutorial - Tomography streaming workflow</a><a class="headerlink" href="#tutorial-tomography-streaming-workflow" title="Permalink to this heading"></a></h1>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#tutorial-tomography-streaming-workflow" id="id3">Tutorial - Tomography streaming workflow</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id4">Introduction</a></p></li>
<li><p><a class="reference internal" href="#additional-resources" id="id5">Additional resources</a></p></li>
<li><p><a class="reference internal" href="#where-to-find-the-protocols" id="id6">Where to find the protocols?</a></p></li>
<li><p><a class="reference internal" href="#workflow-protocols" id="id7">Workflow protocols</a></p>
<ul>
<li><p><a class="reference internal" href="#importing-and-aligning-movies-as-spa" id="id8">Importing and aligning movies as SPA</a></p></li>
<li><p><a class="reference internal" href="#composing-tilt-series" id="id9">Composing tilt series</a></p></li>
<li><p><a class="reference internal" href="#aligning-tilts-and-generating-tomograms" id="id10">Aligning tilts and generating tomograms</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#summary" id="id11">Summary</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id4">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this heading"></a></h2>
<p>This tutorial guide you in a streaming tomography acquisition using Scipion.
To achieve this goal, we will import the tilts as a movie in SPA, we will align
those wit the align protocols of SPA, we will compose the tilt serie and as the
last step we will generate the tomogram. All the steps running in streaming.
A template to launch this workflow is available on the scipion-em-tomo plugin</p>
</div>
<div class="section" id="additional-resources">
<h2><a class="toc-backref" href="#id5">Additional resources</a><a class="headerlink" href="#additional-resources" title="Permalink to this heading"></a></h2>
<p>Here you can find some valuable resources to complement the contents described in the tutorial:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://scipion-em.github.io/docs/release-3.0.0/docs/user/single-particle-tutorials.html#full-spa-processing-video-tutorial">Full SPA processing video tutorial</a></p></li>
<li><p><a class="reference external" href="https://scipion-em.github.io/docs/release-3.0.0/docs/user/tutorials/tomo/tomography-intro.html#tomography-intro">Tomography in Scipion</a></p></li>
</ul>
</div>
<div class="section" id="where-to-find-the-protocols">
<h2><a class="toc-backref" href="#id6">Where to find the protocols?</a><a class="headerlink" href="#where-to-find-the-protocols" title="Permalink to this heading"></a></h2>
<p>Protocols needed to perform the workflow are available in the following plugins:</p>
<ul class="simple">
<li><p><strong>scipion-em</strong></p></li>
<li><p><strong>scipion-em-motioncor</strong></p></li>
<li><p><strong>scipion-em-tomo</strong></p></li>
<li><p><strong>scipion-em-aretomo</strong></p></li>
</ul>
</div>
<div class="section" id="workflow-protocols">
<h2><a class="toc-backref" href="#id7">Workflow protocols</a><a class="headerlink" href="#workflow-protocols" title="Permalink to this heading"></a></h2>
<div class="section" id="importing-and-aligning-movies-as-spa">
<h3><a class="toc-backref" href="#id8">Importing and aligning movies as SPA</a><a class="headerlink" href="#importing-and-aligning-movies-as-spa" title="Permalink to this heading"></a></h3>
<p>We will import al the tilts as we were in Single Particle, that way we will use
the import movies protocol filling the form as common in SPA. Review the streaming
parameters to be sure that the protocol works with the microscope condition (time
to the next tilt (file timeout) and time to finish the acquisition (Timeout).
You have to take into account that the workflow we propose admit several tiltseriee.</p>
<p>When the movies are being imported, we will continue alinging those movies. You
can use the protocol to aling you consider, we propose on this workflow MotionCor,
but you have to take into account that you can not use batches because could deform the image.
Please set Number of patches as X=1 Y=1.</p>
</div>
<div class="section" id="composing-tilt-series">
<h3><a class="toc-backref" href="#id9">Composing tilt series</a><a class="headerlink" href="#composing-tilt-series" title="Permalink to this heading"></a></h3>
<p>To generate a tilt serie we have released the Compose Tilt Serie protocol, available
on scipion-em-tomo.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../../../_images/tomoStreamingCompose1.png"><img alt="ComposeTiltSerie" src="../../../../../_images/tomoStreamingCompose1.png" style="width: 600px;" /></a>
</div>
<p>Some parameters must be filled before launch the workflow:</p>
<ul class="simple">
<li><p>Input micrograph: Select as input the output of the align protocol</p></li>
<li><p>Path with the <a href="#id1"><span class="problematic" id="id2">*</span></a>.mdoc file for each TiltSerie: Select the directory that contain the mdoc files of each tiltSerie. The protocol will read each tilt fromn those mdoc files.</p></li>
<li><p>Streaming; Time for next tilt: elay (in seconds) until the next tilt is registered in the mdoc file. After timeout, if there is no new tilt, the tilt serie is considered as completed.Minimum time recomended 20 segs</p></li>
<li><p>Streaming; Time for next TiltSerie: Interval of time (in seconds) after which, if no new tilt serie is detected, the protocol will end. The default value is high (30 min) to avoid the protocol finishes during the acq of the microscope. You can also stop it from right click and press STOP_STREAMING.</p></li>
</ul>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../../../_images/tomoStreamingCompose2.png"><img alt="ComposeTiltSerie Srtreaming" src="../../../../../_images/tomoStreamingCompose2.png" style="width: 600px;" /></a>
</div>
</div>
<div class="section" id="aligning-tilts-and-generating-tomograms">
<h3><a class="toc-backref" href="#id10">Aligning tilts and generating tomograms</a><a class="headerlink" href="#aligning-tilts-and-generating-tomograms" title="Permalink to this heading"></a></h3>
<p>In order to generate a tomogram in streaming; in the time we have the tomogram
of a tilt series to process the acquisition, we have enhanced the Aretomo protocol
to manage the streaming process.
None of the parameters must be filled in other than the usual ones available in the Aretomo protocol.</p>
</div>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id11">Summary</a><a class="headerlink" href="#summary" title="Permalink to this heading"></a></h2>
<p>We have explained the workflow for managing a streaming acquisition. It requires only four protocols,
two of them belong to the SPA field and the other two to the tomography field.
The compose tilt series is a protocol designed ad-hoc for streaming tomography
and the AreTomo protocol has been enhanced to allow streaming.
In the future we plan to enable streaming tomography using other plugins such as IMOD.</p>
</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Scipion team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>