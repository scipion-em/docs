

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GPU &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/license.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>GPU</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/developer/enable-gpu-in-scipion.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="gpu">
<span id="enable-gpu-in-scipion"></span><h1>GPU<a class="headerlink" href="#gpu" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction-to-gpu">
<h2>Introduction to GPU<a class="headerlink" href="#introduction-to-gpu" title="Permalink to this headline">¶</a></h2>
<p>Vector processing units in graphic cards (GPU) allow for very fast processing,
provided the program makes the most of its parallel features. The most popular
platform for GPU computing is Nvidia CUDA.</p>
<div class="section" id="id1">
<h3>Enable GPU in Scipion<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>If you foresee that the end user will have access to a GPU when using the image,
then you should prepare all the GPU-related stuff.</p>
<p>First, NVidia driver:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download the latest stable driver.</span>
<span class="c1"># Disable nouveau:</span>
<span class="nb">echo</span> <span class="s2">&quot;blacklist nouveau&quot;</span> &gt; /etc/modprobe.d/disable-nouveau.conf
<span class="c1"># Update init disk</span>
update-initramfs -u
<span class="c1"># reboot</span>
<span class="c1"># install dependencies</span>
apt-get install linux-headers-<span class="k">$(</span>uname -r<span class="k">)</span> build-essential
<span class="c1"># run the binary installer</span>
chmod u+x NVIDIA-Linux-x86_64-361.42.run
./NVIDIA-Linux-x86_64-361.42.run
</pre></div>
</div>
<p>Then, install CUDA. We recommend <a class="reference external" href="https://developer.nvidia.com/cuda-toolkit-55-archive">CUDA 5.5</a>
(which requires <a class="reference external" href="http://www.tranquilinho.com/informatica/linux/compilar-gcc/">gcc 4.6</a>)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./cuda_5.5.22_linux_64.run -toolkit -silent
</pre></div>
</div>
<p>The last requisite is OpenCV, which can be installed with scipion install
script (you may need to specify gcc/g++ 4.6 in CMakeCache.txt).</p>
<p>The CUDA switch will be enabled later in scipion.conf.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># GPU features require manual change in config/scipion.conf:</span>
<span class="nv">CUDA</span> <span class="o">=</span> True
</pre></div>
</div>
<p>(see <a class="reference external" href="https://scipion-em.github.io/docs/docs/scipion-modes/install-from-sources.html">How to install</a>)</p>
</div>
<div class="section" id="em-packages-that-benefit-from-gpu">
<h3>EM packages that benefit from GPU<a class="headerlink" href="#em-packages-that-benefit-from-gpu" title="Permalink to this headline">¶</a></h3>
<p>Motioncorr</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scipion installp -p scipion-em-motioncorr -j <span class="m">4</span>
</pre></div>
</div>
</div>
<div class="section" id="gpu-purchase-guide">
<h3>GPU purchase guide<a class="headerlink" href="#gpu-purchase-guide" title="Permalink to this headline">¶</a></h3>
<p>Most popular GPU card brand is NVidia. It has 3 main product lines:</p>
<ul class="simple">
<li>Tesla: optimized for scientific computing and reliavility. “Expensive”, but you get direct long-term Nvidia support, better drivers, ECC memory. Very good double-precision performance (though your algorithm may work well with just simple-precission).</li>
<li>Quadro: also high-quality components, but more focused on CAD applications</li>
<li>GeForce: marketed for gaming, they can also be used as GPU, like Quadro and Tesla. “Cheap” models available. Usually they are bulky and power hungry, since they are intended for consumer desktop PC. Therefore, they may be a pain to install in a standard 1U server. Additionally, most servers vendors do not support this kind of cards.</li>
</ul>
<p>In terms of performance per euro, usually it is best to go with top consumer cards, like GTX 1080. If money is not a problem, Tesla is the safe investment. Quadro stand in the middle ground: cheaper than Tesla, they offer good performance and are supported by most server vendors.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../dependabot_pip_jinja2-2.10.1/docs/developer/enable-gpu-in-scipion.html">dependabot/pip/jinja2-2.10.1</a></dd>
            <dd><a href="../../gh-pages/docs/developer/enable-gpu-in-scipion.html">gh-pages</a></dd>
            <dd><a href="../../release-2.0.0/docs/developer/enable-gpu-in-scipion.html">release-2.0.0</a></dd>
            <dd><a href="../../release-3.0.0/docs/developer/enable-gpu-in-scipion.html">release-3.0.0</a></dd>
            <dd><a href="../../rsanchezgarc-patch-1/docs/developer/enable-gpu-in-scipion.html">rsanchezgarc-patch-1</a></dd>
            <dd><a href="../../vtune/docs/developer/enable-gpu-in-scipion.html">vtune</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>