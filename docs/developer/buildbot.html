

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Buildbot &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Buildbot</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/developer/buildbot.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="buildbot">
<span id="id1"></span><h1>Buildbot<a class="headerlink" href="#buildbot" title="Permalink to this headline">¶</a></h1>
<p>BuildBot is a system to automate the compile/test cycle required by most
software projects to validate code changes. By automatically rebuilding and
testing the tree each time something has changed, build problems are pinpointed
quickly, before other developers are inconvenienced by the failure.</p>
<p>From early stages in the development of Scipion, we have included a number of
automatic tests into this tool that executes periodically those tests. Those
executions can be examined in <a class="reference external" href="http://scipion-test.cnb.csic.es:9980/#/">http://scipion-test.cnb.csic.es:9980/#/</a></p>
<p>Our buildbot architecture consists of a single <strong>buildmaster</strong> and one <strong>worker</strong>
connected in a star topology. The buildmaster makes all decisions about what,
when, and how to build. It sends commands to be run on the worker, which
simply execute the commands and return the results. (certain steps involve
more local decision making, where the overhead of sending a lot of commands
back and forth would be inappropriate, but in general the buildmaster is
responsible for everything).</p>
<div class="figure" id="system-architecture">
<a class="reference internal image-reference" href="../../_images/buildbot_architecture.png"><img alt="System Architecture" src="../../_images/buildbot_architecture.png" style="width: 750px;" /></a>
</div>
<p>The worker runs on a separate machine where the master runs. This machine connect
to the buildmaster over a TCP connection. The TCP connections are initiated by
the worker and accepted by the buildmaster, but commands and results travel both
ways within this connection. The buildmaster is always in charge, so all
commands travel exclusively from the buildmaster to the worker.</p>
<p>The buildmaster constist of several pieces:</p>
<div class="figure" id="build-master">
<a class="reference internal image-reference" href="../../_images/build_master01.png"><img alt="Build Master" src="../../_images/build_master01.png" style="width: 550px;" /></a>
</div>
<p>All of our repositories are on GIT. These repositories are constantly being
modified. All <strong>Changes</strong> are fed to the <strong>Schedulers</strong> which decide when builds
should be performed. They collect Changes into <strong>BuildRequests</strong>, which are
then queued for delivery to <strong>Builders</strong> until a worker is available. The
Builders control exactly how each build is performed (with a series of
<strong>BuildSteps</strong>, configured in a <strong>BuildFactory</strong>).</p>
<p>Currently, our code is divided into three main branches which are tested by
buildbot:</p>
<ul class="simple">
<li><strong>support</strong>: represents the stable code of the release 2.0.0 of Scipion (Diocletian)</li>
<li><strong>production</strong>: represents the stable code of release 3.0.0 (???????)</li>
<li><strong>devel</strong>: represents the code in development of the release 3.0.0.</li>
</ul>
<p>For that reason, we have three <cite>BuildFactorys</cite> that are in charge of
automatically executing the code of the aforementioned branches:</p>
<ul class="simple">
<li><strong>supportBuilGroupFactory</strong>: this BuildFactorys is automatically released on Sundays.</li>
<li><strong>productionBuildGroupFactory</strong>: this BuildFactorys is automatically released on Saturday.</li>
<li><strong>develBuildGroupFactory</strong>: this BuildFactorys is automatically released on Monday, Wednesday and Friday.</li>
</ul>
<div class="figure" id="complete-build-master">
<a class="reference internal image-reference" href="../../_images/build_master02.png"><img alt="Complete Build Master" src="../../_images/build_master02.png" style="width: 850px;" /></a>
</div>
<p>If a <strong>Notifier</strong> status target is active, the completion of a build will cause
a notification to be sent to any developers or the Scipion team whose
Changes were incorporated into this Build. The Notifier can be configured to
only send a notification or mail upon failing builds, or for builds which have
just transitioned from passing to failing. Other status targets can provide
similar real-time notification via different communication channels, like Slack.</p>
<div class="section" id="adding-your-plugin-in-buildbot">
<h2>Adding your plugin in Buildbot<a class="headerlink" href="#adding-your-plugin-in-buildbot" title="Permalink to this headline">¶</a></h2>
<p>In order to include a Scipion plugin within buildbot and have it tested, the
following steps must be followed:</p>
<ol class="arabic simple">
<li>Make sure the plugin is on one Version Control System like GIT (to test in devel mode).</li>
<li>Make sure the plugin is on Pypi (to test in production mode).</li>
<li><a class="reference internal" href="../misc/contact-us.html#contact-us"><span class="std std-ref">Contact white Scipion Team</span></a> in order to include it into Buildbot.
For that steps, send us an email with the link to repository.</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../jj_add_practice_day1/docs/developer/buildbot.html">jj_add_practice_day1</a></dd>
            <dd><a href="../../jj_add_protocol_test_practice/docs/developer/buildbot.html">jj_add_protocol_test_practice</a></dd>
            <dd><a href="../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="../../release-3.0.0/docs/developer/buildbot.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>