

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a workflow template &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
      <li>Creating a workflow template</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/developer/tutorials/creating-a-workflow-template.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="creating-a-workflow-template">
<span id="id1"></span><h1>Creating a workflow template<a class="headerlink" href="#creating-a-workflow-template" title="Permalink to this headline">¶</a></h1>
<div class="section" id="associated-resources">
<h2>Associated resources<a class="headerlink" href="#associated-resources" title="Permalink to this headline">¶</a></h2>
<p>Here you can find resources associated with this content, like videos or presentations used in courses:</p>
<p><a class="reference external" href="https://docs.google.com/presentation/d/1KGz6_A2YLtjIBoiLKqhHTBUr2HYhqvAz91WiWWSXNQY/present?usp=sharing">Course presentation</a></p>
<p><a class="reference external" href="../../facilities/facilities-workflows">Facilities workflows</a>.</p>
<p>Scipion can export a workflow or a series of protocols to a file.
A <code class="docutils literal notranslate"><span class="pre">Scipion</span> <span class="pre">workflow</span> <span class="pre">file</span></code> contains all the attributes for each protocol
selected in the project window. This file can then be used to create a new
project.</p>
<p>This workflow file can be customized to ask for some values before creating the
project.</p>
</div>
<div class="section" id="cloning-and-installing-scipion-em-template">
<h2>Cloning and installing scipion-em-template<a class="headerlink" href="#cloning-and-installing-scipion-em-template" title="Permalink to this headline">¶</a></h2>
<p>If you are following a course you might already have done this. This practice starts form the master branch.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> desired/location
git clone https://github.com/scipion-em/scipion-em-template.git
<span class="nb">cd</span> scipion3/location
./scipion3 installp -p scipion-em-template/location --devel
</pre></div>
</div>
<div class="section" id="exporting-a-workflow">
<h3>Exporting a workflow<a class="headerlink" href="#exporting-a-workflow" title="Permalink to this headline">¶</a></h3>
<p>When you have a workflow, its protocols can be selected by ctrl-click on
each one. When you have more than one protocol selected, in the Scipion options
bar, <code class="docutils literal notranslate"><span class="pre">Export</span></code> option will appear as shown in the following figure:</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/export_workflow.png"><img alt="Export workflow" src="../../../_images/export_workflow.png" style="width: 750px;" /></a>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">For the <code class="docutils literal notranslate"><span class="pre">Export</span></code> option to appear, more than one protocol must
be selected.</p>
</div>
<p>After that, you will be able to choose the path where you can
store the file, as well as be able to change its name.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The file extension must be <code class="docutils literal notranslate"><span class="pre">json.template</span></code> and must be stored at
<code class="docutils literal notranslate"><span class="pre">myplugin/templates</span></code>.</p>
</div>
<p>Scipion’s templates are <code class="docutils literal notranslate"><span class="pre">JSON</span> <span class="pre">files</span></code> (<a class="reference external" href="https://www.json.org">read more info about JSON files</a>).</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>    <span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">&quot;object.className&quot;</span><span class="p">:</span> <span class="s2">&quot;MyPluginPrefixHelloWorld&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.label&quot;</span><span class="p">:</span> <span class="s2">&quot;myplugin - Hello world&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_useQueue&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;_prerequisites&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_queueParams&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runName&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runMode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello world!&quot;</span><span class="p">,</span>
        <span class="nt">&quot;times&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="nt">&quot;previousCount&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;object.className&quot;</span><span class="p">:</span> <span class="s2">&quot;MyPluginPrefixHelloWorld&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.id&quot;</span><span class="p">:</span> <span class="s2">&quot;84&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.label&quot;</span><span class="p">:</span> <span class="s2">&quot;myplugin - Hello world (2)&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_useQueue&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;_prerequisites&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_queueParams&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runName&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runMode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello world!&quot;</span><span class="p">,</span>
        <span class="nt">&quot;times&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="nt">&quot;previousCount&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">&quot;object.className&quot;</span><span class="p">:</span> <span class="s2">&quot;MyPluginPrefixHelloWorld&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.id&quot;</span><span class="p">:</span> <span class="s2">&quot;118&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.label&quot;</span><span class="p">:</span> <span class="s2">&quot;myplugin - Hello world (3)&quot;</span><span class="p">,</span>
        <span class="nt">&quot;object.comment&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_useQueue&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;_prerequisites&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="nt">&quot;_queueParams&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runName&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;runMode&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Hello world!&quot;</span><span class="p">,</span>
        <span class="nt">&quot;times&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="nt">&quot;previousCount&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="launching-the-template">
<h3>Launching the template<a class="headerlink" href="#launching-the-template" title="Permalink to this headline">¶</a></h3>
<p>Scipion uses a command to discover the templates which it searches in its
folders as well as those of the plugins and displays a list of them. The
command is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./scipion3 template
</pre></div>
</div>
<p>The following window is loaded once the previous command is executed.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/template_list.png"><img alt="Template List" src="../../../_images/template_list.png" style="width: 750px;" /></a>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Here you can select a template which will appear as follows:
<code class="docutils literal notranslate"><span class="pre">plugin</span> <span class="pre">name</span> <span class="pre">-</span> <span class="pre">template</span> <span class="pre">name</span></code>. Also note that the template does not
have any description. Later we will explain how to add it.</p>
</div>
<p>After selecting the template, a window will appear allowing you to execute
it.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/loading_template.png"><img alt="Loading template" src="../../../_images/loading_template.png" style="width: 450px;" /></a>
</div>
<p>After clicking the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button, a project will be generated with the
protocols inside the template and all of them will be schedule as shown in the
figure below:</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/running_template.png"><img alt="Running a template" src="../../../_images/running_template.png" style="width: 750px;" /></a>
</div>
</div>
<div class="section" id="adding-a-description">
<h3>Adding a description<a class="headerlink" href="#adding-a-description" title="Permalink to this headline">¶</a></h3>
<p>In order for a description to appear for the template that we have created, it
would only be necessary to write in the header of the template the
description.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>This is an example of a template description
[
{
    &quot;object.className&quot;: &quot;MyPluginPrefixHelloWorld&quot;,
    &quot;object.id&quot;: &quot;2&quot;,
    &quot;object.label&quot;: &quot;myplugin - Hello world&quot;,
    &quot;object.comment&quot;: &quot;&quot;,
    &quot;_useQueue&quot;: false,
    &quot;_prerequisites&quot;: &quot;&quot;,
    &quot;_queueParams&quot;: null,
    &quot;runName&quot;: null,
</pre></div>
</div>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/description_template.png"><img alt="Description template" src="../../../_images/description_template.png" style="width: 750px;" /></a>
</div>
</div>
<div class="section" id="adding-dynamic-fields">
<h3>Adding dynamic fields<a class="headerlink" href="#adding-dynamic-fields" title="Permalink to this headline">¶</a></h3>
<p>In some cases, you may need to ask the user for certain values before creating
and launching the project such as movie’s path, sampling rate, dose,… In our
example we want to ask for the <code class="docutils literal notranslate"><span class="pre">Message</span></code> and the <code class="docutils literal notranslate"><span class="pre">Time</span></code> parameters.</p>
<div class="figure">
<a class="reference internal image-reference" href="../../../_images/customized_template.png"><img alt="Customized template" src="../../../_images/customized_template.png" style="width: 750px;" /></a>
</div>
<p>See how the <code class="docutils literal notranslate"><span class="pre">dynamic</span> <span class="pre">fields</span></code> syntax <a class="reference external" href="../../facilities/facilities-workflows#creating-custom-dynamic-templates">works</a>.</p>
<p>Once you think you have it, run it and check Scipion asks for the right values and the
project created works and has the expected parameters.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="../../../release-3.0.0/docs/developer/tutorials/creating-a-workflow-template.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>