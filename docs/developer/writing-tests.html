

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Writing Tests &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/license.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Writing Tests</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/developer/writing-tests.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="writing-tests">
<span id="id1"></span><h1>Writing Tests<a class="headerlink" href="#writing-tests" title="Permalink to this headline">¶</a></h1>
<p>Writing tests for Scipion is much like writing tests for other python code. Tests
need to be thorough, fast, isolated, consistently repeatable, and as simple as
possible. We try to have tests both for normal behaviour and for error
conditions. Tests live in the <cite>&lt;module&gt;/tests</cite> directory, where every file that
includes tests has a <a href="#id2"><span class="problematic" id="id3">test_</span></a> prefix.</p>
<p>When you are adding tests to an existing test file, it is also recommended that
you study the other existing tests; it will teach you which precautions you
have to take to make your tests robust and portable.</p>
<div class="section" id="basetest-class">
<h2>BaseTest Class<a class="headerlink" href="#basetest-class" title="Permalink to this headline">¶</a></h2>
<p><strong>BaseTest</strong> is a class that inherits from the Python’s standard library called
<em>unittest.TestCase</em> which contains tools for testing your code. Unit testing
checks if all specific parts of your function’s behavior are correct, which
will make integrating  them together with other parts much easier.</p>
<p>In order to write BaseTest tests, you must:</p>
<ul class="simple">
<li>Write your tests as methods within classes.</li>
<li>Use a series of built-in assertion methods.</li>
</ul>
</div>
<div class="section" id="passing-a-test">
<h2>Passing a test<a class="headerlink" href="#passing-a-test" title="Permalink to this headline">¶</a></h2>
<p>Here’s a typical scenario for writing tests. We’ll use cryosparc 2D
classification test as example which from a set of particles classifies them
into a set of classes.</p>
<p>First you need to create a test file (we’ll call our example test_protocols_cryosparc2.py).
Then the BaseTest class from which our class will inherit will be imported. On the other hand, we will
import the Dataset class which is in charge of handling the <a class="reference external" href="datasets-dev">DataSets</a>,
and lastly, write a series of methods to test all the cases of your function’s
behavior.</p>
<p>BaseTest and DataSet classes are located in <strong>pyworkflow</strong> module. It also
contains a set of methods that are useful for managing the project generated by
Scipion.</p>
<p>There’s a line by line explanation below the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyworkflow.tests</span> <span class="kn">import</span> <span class="n">BaseTest</span><span class="p">,</span> <span class="n">DataSet</span><span class="p">,</span> <span class="n">setupTestProject</span>
</pre></div>
</div>
<ul>
<li><p class="first"><strong>setupTestProject</strong>: Method to create and setup a Project for a give Test class.</p>
<blockquote>
<div><p><strong>Info:</strong></p>
<p>If this method is invoked, the project will be created at the path
assigned to the SCIPION_USER_DATA variable in the Scipion configuration file.
Otherwise, the project will be created in the path assigned to the
SCIPION_TESTS_OUTPUT variable. These variables can be modified.</p>
</div></blockquote>
</li>
</ul>
<p>Then we’ll create a class, for example TestCryosparcClassify2D, with a method
<cite>setUpClass</cite> which hook for setting up class fixture before running tests in
the class. This class inherits from the BaseTest class.</p>
<blockquote>
<div>Remember that every method that starts with “test” within a class that
derives from BaseTest will be run automatically when you run a Scipion test.</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">TestCryosparcClassify2D</span><span class="p">(</span><span class="n">BaseTest</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">setupTestProject</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">dataSetName</span> <span class="o">=</span> <span class="s1">&#39;xmipp_tutorial&#39;</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">getDataSet</span><span class="p">(</span><span class="n">dataSetName</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">partFolderPath</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">getFile</span><span class="p">(</span><span class="s1">&#39;particles&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;BPV_*.stk&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>DataSet.getDataSet(dataSetName)</strong>: this method is called every time the dataset want to be retrieved.</li>
<li><strong>dataset.getFile</strong>: method that returns the path where the files are located.</li>
</ul>
<p>Once method setUpClass has been created, each of the tests is written.</p>
<p>In our example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">testCryosparc2D</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
</div>
<p>Inside, we will create a Scipion workflow invoking and executing each
of the necessaries protocols to our test.</p>
<p>First we’ll import a set of particles using <cite>ProtImportParticles</cite>
protocol in order to be classify. For that, we’ll create a new protocol
instance (<cite>newProtocol(ProtocolClass) method</cite>) through the project and return a
newly created protocol of the given class. After that, we will proceed to
execute it and then we will check if the output has been correct.</p>
<ul class="simple">
<li><strong>newProtocol</strong>: method to create new protocols instances through the project and return a newly created protocol of the given class. This method accept <em>kwargs</em> that represent the protocol parameters.</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define import particles protocol</span>
<span class="n">objLabel</span> <span class="o">=</span> <span class="s1">&#39;Import from file (particles)&#39;</span>
<span class="n">protImportPart</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">newProtocol</span><span class="p">(</span><span class="n">ProtImportParticles</span><span class="p">,</span>
                                 <span class="n">objLabel</span><span class="o">=</span><span class="n">objLabel</span><span class="p">,</span>
                                 <span class="n">filesPath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">partFolderPath</span><span class="p">,</span>
                                 <span class="n">filesPattern</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">,</span>
                                 <span class="n">samplingRate</span><span class="o">=</span><span class="n">samplingRate</span><span class="p">,</span>
                                 <span class="n">importFrom</span><span class="o">=</span><span class="n">ProtImportParticles</span><span class="o">.</span><span class="n">IMPORT_FROM_FILES</span><span class="p">)</span>

<span class="c1"># Lunching the import particle protocol</span>
<span class="bp">cls</span><span class="o">.</span><span class="n">launchProtocol</span><span class="p">(</span><span class="n">protImportPart</span><span class="p">)</span>
<span class="c1"># Check that input images have been imported</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertSetSize</span><span class="p">(</span><span class="n">protImportPart</span><span class="o">.</span><span class="n">outputParticles</span><span class="p">,</span>
                    <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Import of images: </span><span class="si">%s</span><span class="s1">, failed. outputParticles is</span>
                     <span class="s1">&#39;None.&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">partPattern</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>launchProtocol</strong>: method to launch a given protocol</li>
</ul>
<p>Once the particles have been imported, an instance of the Cryosparc 2D
classification protocol (<cite>ProtCryo2D</cite>) will be created which will have as input
the particles imported by the ProtImportParticles protocol.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define cryosparc 2D classification protocol</span>
<span class="n">prot2D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newProtocol</span><span class="p">(</span><span class="n">ProtCryo2D</span><span class="p">,</span>
                          <span class="n">doCTF</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">maskDiameterA</span><span class="o">=</span><span class="mi">340</span><span class="p">,</span>
                          <span class="n">numberOfMpi</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">numberOfThreads</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">prot2D</span><span class="o">.</span><span class="n">inputParticles</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">protImportPart</span><span class="o">.</span><span class="n">outputParticles</span><span class="p">)</span>
<span class="n">prot2D</span><span class="o">.</span><span class="n">numberOfClasses</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">prot2D</span><span class="o">.</span><span class="n">numberOnlineEMIterator</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
<span class="n">prot2D</span><span class="o">.</span><span class="n">compute_use_ssd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">prot2D</span><span class="o">.</span><span class="n">setObjLabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">launchProtocol</span><span class="p">(</span><span class="n">prot2D</span><span class="p">)</span>

<span class="c1"># Check if 2D Classification protocol finish successfully</span>
<span class="bp">self</span><span class="o">.</span><span class="n">assertSetSize</span><span class="p">(</span><span class="n">cryosparcProt</span><span class="o">.</span><span class="n">outputClasses</span><span class="p">,</span>
                   <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;There was a problem with Cryosparc 2D classify&quot;</span><span class="p">)</span>

<span class="c1"># Check if the classes has 2D alignment</span>
<span class="k">for</span> <span class="n">class2D</span> <span class="ow">in</span> <span class="n">cryosparcProt</span><span class="o">.</span><span class="n">outputClasses</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">class2D</span><span class="o">.</span><span class="n">hasAlignment2D</span><span class="p">())</span>
</pre></div>
</div>
<p>As can be seen, all parameters of a protocol can be modified using the <em>set</em> method.</p>
<p>The following code shows the complete implementation of the test:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyworkflow.tests</span> <span class="kn">import</span> <span class="n">BaseTest</span><span class="p">,</span> <span class="n">DataSet</span><span class="p">,</span> <span class="n">setupTestProject</span>
<span class="kn">from</span> <span class="nn">pwem.protocols</span> <span class="kn">import</span> <span class="n">ProtImportParticles</span>

<span class="k">class</span> <span class="nc">TestCryosparcClassify2D</span><span class="p">(</span><span class="n">BaseTest</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">setupTestProject</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>
        <span class="n">dataSetName</span> <span class="o">=</span> <span class="s1">&#39;xmipp_tutorial&#39;</span>
        <span class="n">dataset</span> <span class="o">=</span> <span class="n">DataSet</span><span class="o">.</span><span class="n">getDataSet</span><span class="p">(</span><span class="n">dataSetName</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">partFolderPath</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">getFile</span><span class="p">(</span><span class="s1">&#39;particles&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pattern</span> <span class="o">=</span> <span class="s1">&#39;BPV_*.stk&#39;</span>

    <span class="k">def</span> <span class="nf">testCryosparc2D</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_runCryosparcClassify2D</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>

            <span class="c1"># Define import particles protocol</span>
            <span class="n">objLabel</span> <span class="o">=</span> <span class="s1">&#39;Import from file (particles)&#39;</span>
            <span class="n">protImportPart</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">newProtocol</span><span class="p">(</span><span class="n">ProtImportParticles</span><span class="p">,</span>
                                             <span class="n">objLabel</span><span class="o">=</span><span class="n">objLabel</span><span class="p">,</span>
                                             <span class="n">filesPath</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">partFolderPath</span><span class="p">,</span>
                                             <span class="n">filesPattern</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pattern</span><span class="p">,</span>
                                             <span class="n">samplingRate</span><span class="o">=</span><span class="n">samplingRate</span><span class="p">,</span>
                                             <span class="n">importFrom</span><span class="o">=</span><span class="n">ProtImportParticles</span><span class="o">.</span><span class="n">IMPORT_FROM_FILES</span><span class="p">)</span>

            <span class="c1"># Lunching the import particle protocol</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">launchProtocol</span><span class="p">(</span><span class="n">protImportPart</span><span class="p">)</span>
            <span class="c1"># Check that input images have been imported</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertSetSize</span><span class="p">(</span><span class="n">protImportPart</span><span class="o">.</span><span class="n">outputParticles</span><span class="p">,</span>
                               <span class="n">msg</span><span class="o">=</span><span class="s1">&#39;Import of images: </span><span class="si">%s</span><span class="s1">, failed. outputParticles is</span>
                               <span class="s1">&#39;None.&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">partPattern</span><span class="p">)</span>

            <span class="c1"># Define cryosparc 2D classification protocol</span>
            <span class="n">prot2D</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">newProtocol</span><span class="p">(</span><span class="n">ProtCryo2D</span><span class="p">,</span>
                                      <span class="n">doCTF</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">maskDiameterA</span><span class="o">=</span><span class="mi">340</span><span class="p">,</span>
                                      <span class="n">numberOfMpi</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">numberOfThreads</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">prot2D</span><span class="o">.</span><span class="n">inputParticles</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">protImportPart</span><span class="o">.</span><span class="n">outputParticles</span><span class="p">)</span>
            <span class="n">prot2D</span><span class="o">.</span><span class="n">numberOfClasses</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
            <span class="n">prot2D</span><span class="o">.</span><span class="n">numberOnlineEMIterator</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
            <span class="n">prot2D</span><span class="o">.</span><span class="n">compute_use_ssd</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="n">prot2D</span><span class="o">.</span><span class="n">setObjLabel</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">launchProtocol</span><span class="p">(</span><span class="n">prot2D</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">prot2D</span>

        <span class="k">def</span> <span class="nf">_checkAsserts</span><span class="p">(</span><span class="n">cryosparcProt</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">assertSetSize</span><span class="p">(</span><span class="n">cryosparcProt</span><span class="o">.</span><span class="n">outputClasses</span><span class="p">,</span>
                               <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;There was a problem with Cryosparc 2D classify&quot;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">class2D</span> <span class="ow">in</span> <span class="n">cryosparcProt</span><span class="o">.</span><span class="n">outputClasses</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">class2D</span><span class="o">.</span><span class="n">hasAlignment2D</span><span class="p">())</span>

        <span class="n">cryosparcProtGpu</span> <span class="o">=</span> <span class="n">_runCryosparcClassify2D</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Cryosparc classify2D GPU&quot;</span><span class="p">)</span>
        <span class="n">_checkAsserts</span><span class="p">(</span><span class="n">cryosparcProtGpu</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="how-to-write-assertions">
<h3>How to Write Assertions<a class="headerlink" href="#how-to-write-assertions" title="Permalink to this headline">¶</a></h3>
<p>The last step of writing a test is to validate the output against a known
response. We use one of the <cite>assert*()</cite> methods provided by the <cite>BaseTest</cite>
class. If the test fails, an exception will be raised with an explanatory
message, and <cite>BaseTest</cite> will identify the test case as a failure. Any other
exceptions will be treated as errors.</p>
<p>There are some general best practices around how to write assertions:</p>
<ul class="simple">
<li>Make sure tests are repeatable and run your test multiple times to make sure it gives the same result every time.</li>
<li>Try and assert results that relate to your input data, such as verifying that a set of particles has been imported correctly or that they have been classified into a set of classes.</li>
</ul>
<p>Note that <strong>BaseTest</strong> by inheriting from de <cite>unittest</cite>, comes with lots of methods to
assert on the values, types, and existence of variables. Here are some of the
most commonly used methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="54%" />
<col width="46%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Method</td>
<td>Equivalent to</td>
</tr>
<tr class="row-even"><td>.assertEqual(a, b)</td>
<td>a == b</td>
</tr>
<tr class="row-odd"><td>.assertTrue(x)</td>
<td>a == b</td>
</tr>
<tr class="row-even"><td>.assertFalse(x)</td>
<td>a == b</td>
</tr>
<tr class="row-odd"><td>.assertIs(a, b)</td>
<td>a == b</td>
</tr>
<tr class="row-even"><td>.assertIsNone(x)</td>
<td>a == b</td>
</tr>
<tr class="row-odd"><td>.assertIn(a, b)</td>
<td>a == b</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="running-our-tests">
<h3>Running our tests<a class="headerlink" href="#running-our-tests" title="Permalink to this headline">¶</a></h3>
<p>Once the test is created, we would only have to run it.
<a class="reference external" href="running-tests">[clic here]</a>
for more information on how to run the tests.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../dependabot_pip_jinja2-2.10.1/docs/developer/writing-tests.html">dependabot/pip/jinja2-2.10.1</a></dd>
            <dd><a href="../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="../../release-3.0.0/docs/developer/writing-tests.html">release-3.0.0</a></dd>
            <dd><a href="../../rsanchezgarc-patch-1/docs/developer/writing-tests.html">rsanchezgarc-patch-1</a></dd>
            <dd><a href="../../vtune/docs/developer/writing-tests.html">vtune</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>