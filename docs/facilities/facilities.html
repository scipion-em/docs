

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>On-the-fly processing &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Streaming workflows" href="facilities-workflows.html" />
    <link rel="prev" title="Plugin Manager" href="../user/plugin-manager.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/how-to-install.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">On-the-fly processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#for-facilities">For facilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#streaming-processing">Streaming processing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>On-the-fly processing</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/facilities/facilities.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="on-the-fly-processing">
<span id="facilities"></span><h1>On-the-fly processing<a class="headerlink" href="#on-the-fly-processing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="for-facilities">
<h2>For facilities<a class="headerlink" href="#for-facilities" title="Permalink to this headline">¶</a></h2>
<p>Currently, scipion is being used every day in several facilities in Europe, US,
Canada, Israel, Australia… If you are running a Cryo EM facility and want more
info, please <a class="reference internal" href="../misc/contact-us.html#contact-us"><span class="std std-ref">contact us</span></a>. We will be happy to help you run
Scipion there. Also, we have a <a class="reference external" href="https://scipion.slack.com">Slack</a> framework to
maintain a direct communication channel.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../_images/facilities_map.png"><img alt="facilities map" src="../../_images/facilities_map.png" style="width: 900px;" /></a>
</div>
<p><a class="reference external" href="https://www.google.com/maps/d/viewer?mid=1MHEnnhBsUarOGJnlo0BapQrrGtA&amp;ll=23.859083678630366%2C-5.749884867547308&amp;z=3">Facilities map</a></p>
</div>
<div class="section" id="streaming-processing">
<h2>Streaming processing<a class="headerlink" href="#streaming-processing" title="Permalink to this headline">¶</a></h2>
<p>Scipion is able to process data in streaming, i.e, at the same time movies
(or micrographs) are coming from the microscope PC. It can also be called
on-the-fly or on-line processing. This allows to overlap computing time with the
acquisition. This is interesting for two main reasons:
(i) to save processing time and provide users with more than movies and
(ii) to monitor the acquisition in order to be able to take decisions in very
early stages.
This idea is implemented in different labs mainly by using
custom-made scripts, but also it can be implemented using templates in a very
easy way. The advantage of Scipion solution is that you have
the usual flexibility to choose what operations to do and the traceability to
re-do some of the steps later. It is basically the same Scipion interface with
one key change: the output is produced as soon as the first element is
available, and it is later updated with new output elements. This allows
concatenating several operations before the first one is completed,
resulting in a whole workflow running at once.</p>
<p>Learn <a class="reference external" href="facilities-workflows">how to create, import, export and launch streaming workflows</a>.</p>
<p>Scipion v.3.0 - Diocletian <a class="reference external" href="/docs/docs/developer/release-notes#v3-0-2020-?-?-??">updates/introduce a big number of streaming tools</a> (<cite>CHECK LINK</cite>).
We review and analyze in deep the use and the combination of these on-the-fly
tools and protocols for facilities in the <a class="reference external" href="https://doi.org/10.1107/S2059798319011860">D. Maluenda et.al. ‘Flexible
workflows for on-the-fly electron microscopy single particle image processing
using Scipion’ Acta Cryst. (2019). D75, 882-894</a> paper.</p>
<p>On top of that, we have paid special attention to data flow management and
acquisition monitoring, for that Scipion includes
a <a class="reference external" href="https://github.com/I2PC/scipion-em-xmipp/blob/648ebe3a4f8dc2f3022332c080fb3d300d273bd7/xmipp3/protocols/protocol_trigger_data.py#L41-L53">Trigger data</a> protocol, the <a class="reference external" href="https://github.com/I2PC/scipion-em-xmipp/blob/648ebe3a4f8dc2f3022332c080fb3d300d273bd7/xmipp3/protocols/protocol_movie_max_shift.py#L43-L53">Movie max shift</a> protocol, the
<a class="reference external" href="https://github.com/I2PC/scipion-em-xmipp/blob/648ebe3a4f8dc2f3022332c080fb3d300d273bd7/xmipp3/protocols/protocol_ctf_consensus.py#L49-L51">CTF consensus</a> protocol, the
<a class="reference external" href="https://github.com/I2PC/scipion/blob/d1a60f69960d1079bbbecde5bf3f5f4017b36927/pyworkflow/em/protocol/protocol_extract_coordinates.py#L44-L49">Extract coordinates</a> protocol in
streaming and <a class="reference external" href="http://workflows.scipion.i2pc.es/workflow_detail/56/2d_class_streaming_gl2d_assignation/">2D classification in
streaming</a>
(see also <a class="reference external" href="https://github.com/I2PC/scipion-em-xmipp/blob/648ebe3a4f8dc2f3022332c080fb3d300d273bd7/xmipp3/protocols/protocol_classification_gpuCorr_semi.py#L68-L70">GL2D-static</a> and
<a class="reference external" href="https://github.com/I2PC/scipion-em-xmipp/blob/648ebe3a4f8dc2f3022332c080fb3d300d273bd7/xmipp3/protocols/protocol_classification_gpuCorr_full.py#L68-L70">GL2D-streaming</a>).
But also we have included general streaming tools, such as enabling to
<em>Continue</em> and <em>Restart</em> workflows from a certain protocol,
providing more stability in streaming protocols keeping processing new data
even if a certain bunch fails for some reason, etc.</p>
<p>In addition, we have work more in the concept of consensus protocols, for
merging and combining different approaches (from different EM softwares)
to do the same tasks, in order to get an improved result based on that
different results.
The consensus protocols family are for <em>CTF estimation</em>, <em>Picking</em>,
<em>Initial Volume</em> and <em>3D classes</em>, so far.</p>
<p>Moreover, we are also working in the monitor protocols, those special protocols
that constantly check how the execution of other protocols is going on. We have
developed several GUIs that are refreshed periodically and produce a graphical
summary (e.g, CTF estimated values, system load, etc).
Examples of monitors reports generated in <em>HTML</em> format can be seen at
<a class="reference external" href="http://scipion.cnb.csic.es/scipionbox/lastHTMLReport">http://scipion.cnb.csic.es/scipionbox/lastHTMLReport</a>,
while you can see a Grafana based report in the URL
<a class="reference external" href="http://scipion.cnb.csic.es:3000/lastHTMLReport">http://scipion.cnb.csic.es:3000/lastHTMLReport</a>.
(Unfortunately, at present, Grafana server can only be accessed from within our local area network).
Learn <a class="reference external" href="customize-report">how to customize the reports</a> according to your facilities’ needs.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="facilities-workflows.html" class="btn btn-neutral float-right" title="Streaming workflows" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../user/plugin-manager.html" class="btn btn-neutral float-left" title="Plugin Manager" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-3.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../gh-pages/docs/facilities/facilities.html">gh-pages</a></dd>
            <dd><a href="../../jj_add_practice_day1/docs/facilities/facilities.html">jj_add_practice_day1</a></dd>
            <dd><a href="../../jj_add_protocol_test_practice/docs/facilities/facilities.html">jj_add_protocol_test_practice</a></dd>
            <dd><a href="../../release-2.0.0/docs/facilities/facilities.html">release-2.0.0</a></dd>
            <dd><a href="../../release-3.0.0/docs/facilities/facilities.html">release-3.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>