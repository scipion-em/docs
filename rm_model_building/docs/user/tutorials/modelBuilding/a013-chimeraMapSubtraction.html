

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. ChimeraX Map Subtraction protocol &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/how-to-install.html">Installing Scipion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/facilities.html">On-the-fly processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../facilities/customize-report.html">Summary Reports</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/scipion-API.html">Scipion API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/plugins-API.html">Plugins API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/xmipp-API.html">Xmipp API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../misc/contact-us.html">Contact Us</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Licences</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">Licenses</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">4. </span>ChimeraX Map Subtraction protocol</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/docs/user/tutorials/modelBuilding/a013-chimeraMapSubtraction.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="chimerax-map-subtraction-protocol">
<span id="app-chimeramapsubtraction"></span><h1><span class="section-number">4. </span>ChimeraX Map Subtraction protocol<a class="headerlink" href="#chimerax-map-subtraction-protocol" title="Permalink to this headline">¶</a></h1>
<p>-based protocol designed to subtract two maps. These two maps can be two
density maps experimentally obtained or derived from different
computations, including the generation of a density map from an atomic
structure. In the context of the modeling workflow this protocol helps
to find out unmodeled densities in a map as a whole or in a specific
part of it. In addition, wrong modeled regions can be also identified
with this protocol since the atomic structure could doesn’t fit to the
density map.</p>
<ul>
<li><p>Requirements to run this protocol and visualize results:</p>
<ul class="simple">
<li><p>plugin:</p></li>
<li><p>plugin:</p></li>
</ul>
</li>
<li><p>menu: ( (A))</p></li>
<li><div class="line-block">
<div class="line">Protocol form parameters ( (B,C,D)):</div>
<div class="line">section:</div>
</div>
<ul>
<li><p>: Include here any map previously downloaded or generated in that
you would like to use as minuend of the subtraction operation.</p></li>
<li><p>: Two possibilities are allowed:</p>
<ul class="simple">
<li><p>: Between minuend and subtrahend maps, and you’ll obtain the
difference. WARNING: Both maps have to be perfectly aligned.</p></li>
<li><p>: The voxel region of the subtrahend greater than a certain
level will be masked ( (C)). The default level is although can
be modified with the param . If no level is supplied, will
compute that level value.</p></li>
</ul>
</li>
<li><p>: Select the subtrahend of the subtraction operation. Two
possibilities are allowed:</p>
<ul>
<li><p>: Any map previously downloaded or generated in . WARNING: The
sampling rate of this map should be identical to the
subtrahend’s.</p></li>
<li><p>: Previously downloaded or generated in . By selecting this
option many new params will interrogate about the
structure-derived map that you would like to generate ( (D)).</p>
<ul>
<li><p>: This is a tricky param and a uniform rule cannot be
followed since, although its value is related with the
minuend map resolution obtained by computing the in the
reconstruction process, local variations of this resolution
seem to be involved. As a general rule, start with a
resolution value half of the one obtained by the and check
your results. Then test other resolution values closer to
the one computed by the and compare the results with the
previous one. At the end select the resolution that
maximizes the difference between the minuend and the
subtrahend.</p></li>
<li><p>: Select the atomic structure in the workflow to generate
the called .</p></li>
<li><p>: In case you are interested in generate the sustrahend from
the input atomic structure as a whole, answer to this
question. However, answer if you want to derive that map
from a specific chain of the atomic structure. If this is
the case, a new param () will interrogate you about the
specific chain that you can select with the help of the
wizard on the right.</p></li>
<li><div class="line-block">
<div class="line">: Select to answer this question in case you’d like to
count on a control of density levels to identify the
differential density. The aim of this control is identify
the density of the removed residues in the differential
map. However, be cautious about discarding other densities
that could appear in lower resolution areas and have
density levels slightly different that the control one.
After running the program the graphics window will open
and the atomic structure won’t show the removed residues.
To make easier the localization of this area, ten residues
both upstream and downstream of the removed aminoacids
will be highlighted.</div>
<div class="line">Additional params to interrogate about the residues to be
removed are , and . A wizard on the right helps to select
this three elements. WARNING: In case you have already
selected a specific chain of the structure to generate the
, this chain will appear by default in the param since the
selection of a different chain wouldn’t make sense.</div>
</div>
</li>
<li><p>: In case your input atomic structure to derive the
subtrahend corresponds to the asymmetric unit and you’d like
to have the whole atomic structure or at least several
adjacent asymmetric units together with the input one,
select the option . Otherwise, the subtrahend derived map
will only correspond to the asymmetric unit. All symmetries
will be available
(<a class="reference external" href="https://www.cgl.ucsf.edu/chimerax/docs/user/commands/sym.html">https://www.cgl.ucsf.edu/chimerax/docs/user/commands/sym.html</a>).
In case you select symmetries cyclic or dihedral, an
additional param will interrogate you about the . Pay
attention to the param , set to by default. This is the
distance (in Å) from the center of the input asymmetric unit
to the center of additional allowed asymmetric units, in
order to select only the closer ones. You should probably
modify the default value to regenerate big maps by applying
symmetry.</p></li>
<li><p>: Select the option if you want to limit the input minuend
to a certain area around the atomic structure. This is the
option recommended if you have a big starting map and you’d
like to substract a much smaller subtrahend
structure-derived map since the visualization of results
will be much easier. An additional param, asks you about the
distance around the input structure used to crop the input .
is the default value. The -generated map is called .</p></li>
</ul>
</li>
<li><p>: Additional atomic structures previously downloaded or
obtained in can be included here to help you identify
particular areas of the map or structure. Then, those
structures are only informative and won’t be used to generate
the subtrahend map.</p></li>
<li><p>: parameter to clean the background of the differential map by
applying a filter in order to maximize the differences between
the minuend and the subtrahend maps, since the differential map
usually results quite blurry. This will always appear together
with the when the graphics window opens. To filter the
differential map you can choose between two different filters,
(with variable width) and based on the .</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Protocol execution:</p>
<div class="line-block">
<div class="line">Adding specific volume label is recommended in section, at the form
top. To add the label, open the protocol form, press the pencil
symbol at the right side of box, complete the label in the new
opened window, press OK, and finally, close the protocol. This
label will be shown in the output summary content (see below). If
you want to run again this protocol, do not forget to set to the .</div>
<div class="line">Press the red button at the form bottom.</div>
<div class="line">After executing the protocol the graphics window will open and show
the different inputs (maps and atomic structures), as well as the
maps generated by the commands such as , , and . Most of the
outputs are already saved in , however you can perform any
operation of your preference and save the new results before
closing . Common commands of -communication are allowed in this
case: , and .</div>
</div>
</li>
<li><p>Visualization of protocol results:</p>
<div class="line-block">
<div class="line">After exiting the protocol, press and the <span class="math">ChimeraX</span> graphics
window will open with every saved elements, inputs and outputs,
which might be distinct acording to the inputs. In addition to
items mentioned in the previous paragraph, the atomic structure
without the removed residues used as a control, called will be also
shown overlapping the input structure.</div>
<div class="line">By pressing the left black arrow shown in the the saved maps can be
also opened with <span class="math">ShowJ</span>, the default viewer that shows each
map’s (<a class="reference external" href="https://github.com/I2PC/scipion/wiki/ShowJ">https://github.com/I2PC/scipion/wiki/ShowJ</a>).</div>
</div>
</li>
<li><p>Summary content:</p>
<ul>
<li><div class="line-block">
<div class="line">Protocol output (below framework):</div>
<div class="line">For each map: ;</div>
<div class="line">.</div>
<div class="line">For each atomic structure: ;</div>
<div class="line">).</div>
</div>
</li>
<li><div class="line-block">
<div class="line">box:</div>
<div class="line">:</div>
<div class="line">List of output map names</div>
</div>
</li>
</ul>
</li>
</ul>
<div class="section" id="use-cases">
<h2><span class="section-number">4.1. </span>USE CASES<a class="headerlink" href="#use-cases" title="Permalink to this headline">¶</a></h2>
<ul>
<li><div class="line-block">
<div class="line"><br /></div>
<div class="line">Aim: Run the workflow depicted in (A). The output of protocols 1, 2
and 3 can be seen in the viewer by pressing .</div>
</div>
<ul>
<li><div class="line-block">
<div class="line">In the (B) appears the whole adenovirus map, output of protocol
1. To visualize this map write in the command line:</div>
<div class="line">and adjust level densities according to level indicated in the
shown .</div>
</div>
</li>
<li><div class="line-block">
<div class="line">In the (C) the extracted asymmetric unit is shown, overlapped to
the whole map, as output of protocol 2. To visualize these maps,
in addition to the previous command line and the adjustment of
map levels indicated below, modify the transparency of the whole
map writing:</div>
</div>
</li>
<li><div class="line-block">
<div class="line">Finally, the (D) details the atomic structure of the biological
asymmetric unit obtained by modeling as output of protocol 3 ().
Select and to change to ribbons the view of the structure. The
overlapping of this structure to the geometrical map asymmetric
unit allows to observe the area (5, dotted blue circle) where
the penton is located and we will try to see a remnant density.
To visualize the map, write in the command line:</div>
</div>
</li>
</ul>
<p>To look for remnant densities in the penton area we have to complete
the protocol with the indicated params (. Remark that in this case we
have selected half of input resolution (4 Å) although other values
could be tested. The only chain of the penton in the atomic structure
of the asymmetric structure is the chain , inside the dotted blue
circle of (D), and 8 residues will be removed as a control of density
levels. In addition, icosahedral symmetry will be applied to the
selected chain in order to complete the five units of the penton. In
order to visualize better the map difference, a map fraction around
the atomic structure is selected.</p>
<p>Protocol execution: Follow the general procedure shown above
(Protocol execution section) and the graphics window will open. At
this point several maps and atomic structures will be shown, as the
panel indicates ( (C, top)). Have a look to each map and structure to
identify them and play with the density levels to maximize the
differences between the input restricted to the penton area () and
the penton atomic structure-derived map (). The images A and B show
the difference in the penton side (A) and upper (B) views,
respectively, according to the density level observed on the panel
(C, middle). Red arrows point at the densities associated to the
removed residues used as a density control. The adjacent ten residues
to the removed ones upstream and downstream are green-highlighted.
The penton upper view (B) was obtained opening the main menu ( and
setting the view as indicated (C, botton). From these results we can
conclude that a remnant density in the upper part of the penton, if
exits, it is not so evident.</p>
<p>With the exception of the input adenovirus biological asymmetric unit
atomic structure, the rest of elements shown in the graphics window
will also appear in the viewer that opens pressing . Consider then
the possibility of performing additional operations and saving them
with the command before closing the graphics window. After exiting
the protocol you can visualize your results.</p>
</li>
<li><div class="line-block">
<div class="line"><br /></div>
<div class="line">Aim: Run the workflow depicted in (A) to inspect for remnant
densities around the area covered by the hexons in the biological
asymmetric unit area of the adenovirus map (A, 6). The output of
all protocols can be seen in the viewer by pressing .</div>
</div>
<ul>
<li><p>In the (B, C, D) you also have the output of protocols 1, 2 and 3.</p></li>
<li><div class="line-block">
<div class="line">The output of the protocol 4 shows the atomic structure of human
adenovirus HAdV-C5. Select and to change to ribbons the view of
the structure. This structure was fitted to the map asymmetric
unit of adenovirus HAdV-F41 by using the protocol (6) and the
result of this oputput, overlapped to the geometrical map
asymmetric unit, is shown in (B). To visualize this map write in
the command line:</div>
<div class="line">and adjust level densities according to level indicated in the
shown ( (D)). Select and to change to ribbons the view of the
structure.</div>
</div>
</li>
<li><p>The output of protocol 5 details some small chains of residues
previously traced in the remnant density of the adenovirus
HAdV-F41. They are used as a control to be sure that we identify
new densities previously unmodeled. Since they are very small we
have depicted them selecting and overlapped to the geometrical map
asymmetric unit ( (C) with the same transparency and map
adjustment shown in (B).</p></li>
</ul>
<div class="line-block">
<div class="line">To look for remnant densities in the area of hexons we have to
complete the protocol with the indicated params (. As in the
previous use case, we have selected half of input resolution (4 Å)
although other values could be tested.</div>
<div class="line">Taking into account that the remnant densitities could be quite
inconspicuous we are going to use two different controls this time.
One of them will be, as in the previous use case, the deletion of 5
residues of hexon chain , in a region presumed to be quite close to
the remnant density that we are looking for. The second control
will be some small aminoacid chains previously traced in the
remnant density since we’d like to discriminate between this
density and other new one and unmodeled. These extra small chains
have to be included in the form param .</div>
<div class="line">Although this time we do not have to consider a specific chain or
applying symmetry, since we have to look for a chain similar to
HAdV-C5 adenovirus chain , it is quite recommendable to include in
the form param the structure 6B1T fitted to the geometrical map
asymmetric unit, as shown in (B), and obtained from protocol 6 (A).</div>
</div>
<div class="line-block">
<div class="line">Protocol execution: Follow the general procedure shown above
(Protocol execution section) and the graphics window will open. At
this point several maps and atomic structures will be shown, as the
panel indicates ( (A, bottom)), except the . Have a look to each
map and structure to identify them and play with the density levels
to maximize the differences between the input () and the atomic
structure-derived map (). The (A) show the difference obtained. The
zoom in on the framed area displays in detail the difference
considering two different map levels (B and C). To have this view,
besides select the molecules to show according to the panel (A,
bottom), write in command line:</div>
<div class="line">HAdV-C5 adenovirus chain can be visualized as .</div>
</div>
<p>The result, described in , doesn’t demonstrate a clear continuous
density in the proximity of the HAdV-C5 adenovirus chain . Although
not very evident, it could be there. Then we cannot conclude that it
doesn’t exit, only that we were unable to identify it.</p>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: rm_model_building
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../../../gh-pages/index.html">gh-pages</a></dd>
            <dd><a href="../../../../../release-2.0.0/index.html">release-2.0.0</a></dd>
            <dd><a href="../../../../../release-3.0.0/index.html">release-3.0.0</a></dd>
            <dd><a href="a013-chimeraMapSubtraction.html">rm_model_building</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>