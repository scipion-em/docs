

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyCharm IDE &mdash; Scipion 3.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/install-from-sources.html">Installing Scipion v3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#tutorials">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../user/user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">Streaming Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities-workflows.html">Streaming workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../facilities/acquisition-simulation.html">Tutorial for Facilities</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/appion/appion.html">appion package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/atomstructutils/atomstructutils.html">atomstructutils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/atsas/atsas.html">atsas package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/bamfordlab/bamfordlab.html">bamfordlab package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/bsoft/bsoft.html">bsoft package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/ccp4/ccp4.html">ccp4 package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/chimera/chimera.html">chimera package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/cistem/cistem.html">cistem package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/cryoef/cryoef.html">cryoef package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/cryosparc2/cryosparc2.html">cryosparc2 package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/dynamo/dynamo.html">dynamo package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/eman2/eman2.html">eman2 package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/emxlib/emxlib.html">emxlib package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/fsc3d/fsc3d.html">fsc3d package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/gautomatch/gautomatch.html">gautomatch package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/gctf/gctf.html">gctf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/imod/imod.html">imod package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/localrec/localrec.html">localrec package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/locscale/locscale.html">locscale package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/motioncorr/motioncorr.html">motioncorr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/novactf/novactf.html">novactf package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/phenix/phenix.html">phenix package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/pyworkflow/pyworkflow.html">pyworkflow package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/pwem/pwem.html">pwem package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/relion/relion.html">relion package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/resmap/resmap.html">resmap package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/scipion/scipion.html">scipion package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/sphire/sphire.html">sphire package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/spider/spider.html">spider package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/tomo/tomo.html">tomo package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/topaz/topaz.html">topaz package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/xmipp3/xmipp3.html">xmipp3 package</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>PyCharm IDE</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/docs/developer/pycharm.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="figure">
<a class="reference internal image-reference" href="../../_images/scipion_logo.gif"><img alt="scipion logo" src="../../_images/scipion_logo.gif" style="width: 250px;" /></a>
</div>
<div class="section" id="pycharm-ide">
<span id="pycharm"></span><h1>PyCharm IDE<a class="headerlink" href="#pycharm-ide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Download PyCharm’s community version <a class="reference external" href="https://www.jetbrains.com/pycharm/download/#section=linux">[here]</a>. Install following the instructions for your platform.</li>
<li>Clone Scipion git repository in your machine:</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/I2PC/scipion.git
</pre></div>
</div>
<ul class="simple">
<li>Create a new Scipion project (Choose “open” in the open project dialog and select your scipion directory).</li>
</ul>
</div>
<div class="section" id="launching-pycharm">
<h2>Launching pycharm<a class="headerlink" href="#launching-pycharm" title="Permalink to this headline">¶</a></h2>
<p>There is a couple of things we need to run before starting PyCharm in
order to be able to debug Scipion, using the embedded python console or
use the “Attach to local process” option.</p>
<p>1 Add scipion lib folder to the LD_LIBRARY_PATH</p>
<p><cite>export LD_LIBRARY_PATH=/path/to/scipion/software/lib/:$LD_LIBRARY_PATH</cite></p>
<p>There are libraries there that where used to compile Scipion’s python and need to be available</p>
<p>2 Allow pycharm to attach to other processes:</p>
<dl class="docutils">
<dt>These is achieved by:</dt>
<dd><cite>echo 0 | sudo tee /proc/sys/kernel/yama/ptrace_scope</cite></dd>
</dl>
<p>See more here <a class="reference external" href="https://www.jetbrains.com/help/clion/attaching-to-local-process.html">https://www.jetbrains.com/help/clion/attaching-to-local-process.html</a></p>
<p>How to setup this may differ depending on your OS and pycharm version.</p>
<p>An idea could be to create a shell script –&gt; launchPycharm.sh.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/path/to/scipion/software/lib/:<span class="nv">$LD_LIBRARY_PATH</span>
<span class="nb">echo</span> <span class="m">0</span> <span class="p">|</span> sudo tee /proc/sys/kernel/yama/ptrace_scope
pycharm
</pre></div>
</div>
<p>pycharm, in this case refers to the command launcher that pycharm, or
Jetbrains toolbox app generates.</p>
<p>make it executable and launch it like <cite>./launchPycharm.sh.</cite></p>
<p>Another option would be to edit such a file to add those 2 lines, somewhere
inside the launcher script.</p>
</div>
<div class="section" id="configuring-the-interpreter-for-plugins">
<h2>Configuring the interpreter for plugins<a class="headerlink" href="#configuring-the-interpreter-for-plugins" title="Permalink to this headline">¶</a></h2>
<p>A proper configuration ofs pycharm will make your life easier when it comes to
navigate the code from the plugin to Scipion and vice versa. It will allow
pycharm to understand your setup and make better suggestions for importing
code or even identifying bugs. For it,  we need to add a new interpreter,
since scipion provides it’s own python. Go to:</p>
<blockquote class="pull-quote">
<div>File &gt; Settings &gt; Project &gt; Project interpreter</div></blockquote>
<p>click on the cog icon, and then “add” menu</p>
<div class="figure">
<img alt="pycharm project interpreter add" src="../../_images/pycharm_project_interpreter_add.png" />
</div>
<p>This will pop up the “Add Python Interpreter” window, select “System interpreter” and look for the python that is under
/path/to/scipion/software/bin/python2.7</p>
<div class="figure">
<img alt="pycharm adding new python interpreter" src="../../_images/pycharm_add_python.png" />
</div>
<p>This should have registered Scipion’s python in your pycharm. Now we need to
customize it. Having it selected, press again in the “cog”, but this time press
in “Show all”. This should pop up the “Project interpreters” window. Select the
recently added interpreter and click on the “pencil” to rename it to
“pythonForPlugins” (e.g.). This is optional but will make more clear why that
interpreter is there and easier to choose in any new plugin project you might
load in pycharm.</p>
<div class="figure">
<img alt="pycharm adding new python interpreter" src="../../_images/pycharm_interpreter_list.png" />
</div>
<p>Lastly, we need to add 3 “dependencies”:</p>
<ul class="simple">
<li>Add /path/to/scipion/, so pyworkflow code is found</li>
<li>Add xmipp python bindings, usually found at /path/to/scipion/software/em/xmipp/bindings/python</li>
<li>Add xmipp python bindings dependencies, found at /path/to/scipion/software/em/xmipp/lib</li>
</ul>
<div class="figure">
<img alt="pycharm adding paths to python interpreter" src="../../_images/pycharm_interpreter_paths.png" />
</div>
</div>
<div class="section" id="configuring-the-interpreter-just-for-a-scipion-solo-project">
<h2>Configuring the interpreter just for a Scipion “solo” project<a class="headerlink" href="#configuring-the-interpreter-just-for-a-scipion-solo-project" title="Permalink to this headline">¶</a></h2>
<p>In this case you can follow the same steps as above, but avoid adding “pyworkflow”
as a dependency, since it will be naturally found by pycharm. The xmipp binding
is still needed.</p>
<p>For this case it is also advisable to exclude some folders from being indexed:
data and software.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: scipion3_instalation
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../dm_facilitiesUpdate/docs/developer/pycharm.html">dm_facilitiesUpdate</a></dd>
            <dd><a href="../../../gh-pages/docs/developer/pycharm.html">gh-pages</a></dd>
            <dd><a href="../../../release-2.0.0/docs/developer/pycharm.html">release-2.0.0</a></dd>
            <dd><a href="../../../release-3.0.0/docs/developer/pycharm.html">release-3.0.0</a></dd>
            <dd><a href="pycharm.html">scipion3_instalation</a></dd>
            <dd><a href="../../../update_scipion_modes/docs/developer/pycharm.html">update_scipion_modes</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>